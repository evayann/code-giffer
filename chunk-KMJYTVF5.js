import"./chunk-4PGI7KKR.js";import{a as O,b as A,c as E,d as F,e as b,f as D}from"./chunk-USFZXLYA.js";import{$ as x,Ba as M,Fa as g,G as h,K as C,L as f,_ as p,_a as _,a as I,aa as w,da as T,fa as m,ja as S,jb as R,ka as H,oa as s,pa as d,ta as v,wa as c,xa as l}from"./chunk-65EFT5QU.js";import{d as V}from"./chunk-VHCA6YAO.js";var a=V(O());function U(r,i){if(r&1){let o=v();s(0,"app-window",2),c("codeHasChange",function(t){C(o);let n=l();return f(n.updateCode(t.value))})("titleChange",function(t){C(o);let n=l();return f(n.updateTitle(t))}),d()}if(r&2){let o=l();m("code",o.code)("title",o.title)("theme",o.theme)("windowConfiguration",o.codeConfiguration)}}function k(r,i){if(r&1){let o=v();s(0,"app-code-recorder",3),c("onRecordFinish",function(){C(o);let t=l();return f(t.finishRecord())}),d()}if(r&2){let o=l();m("delayInMs",o.delayInMs)("title",o.title)("theme",o.theme)("codeAnimation",o.codeAnimation)}}var j=(()=>{let i=class i{constructor(){this.codeHasChange=new w,this.titleHasChange=new w,this.title="Snippet title",this.code="",this.isRecording=!1,this.codeConfiguration={numberColumn:64,isEditable:!0,hideTextSelection:!1}}set initialCode(e){this.title=e.title,this.code=e.code}updateCode(e){this.code=e,this.codeHasChange.emit(e)}updateTitle(e){this.titleHasChange.emit(e)}startRecord(){this.codeAnimation=F.fromCode(this.title,this.code),this.isRecording=!0}finishRecord(){this.isRecording=!1}};i.\u0275fac=function(t){return new(t||i)},i.\u0275cmp=h({type:i,selectors:[["app-auto-code-editor"]],inputs:{delayInMs:"delayInMs",theme:"theme",initialCode:"initialCode"},outputs:{codeHasChange:"codeHasChange",titleHasChange:"titleHasChange"},standalone:!0,features:[g],decls:4,vars:1,consts:[[3,"code","title","theme","windowConfiguration"],[3,"click"],[3,"code","title","theme","windowConfiguration","codeHasChange","titleChange"],[3,"delayInMs","title","theme","codeAnimation","onRecordFinish"]],template:function(t,n){t&1&&(S(0,U,1,4,"app-window",0)(1,k,1,4),s(2,"button",1),c("click",function(){return n.startRecord()}),M(3,"Animate my snippet !"),d()),t&2&&H(0,n.isRecording?1:0)},dependencies:[_,A,E],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:var(--space-3)}"],changeDetection:0});let r=i;return r})();var ne=(()=>{let i=class i{set menuForm(e){this._menuForm=e,this.subscriptions.add(e?.valueChanges.subscribe(()=>this.changeDetectorRef.detectChanges()))}constructor(e,t,n,u){this.placeholderCodeService=t,this.changeDetectorRef=n,this.urlService=u,this.subscriptions=new I,e.setTheme("//cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/styles/androidstudio.min.css")}ngOnInit(){if(this.title===""&&this.code===""){this.initialCode=this.placeholderCodeService.getRandomExample("auto"),this.urlService.updateQuery({code:(0,a.compressToBase64)(this.initialCode.code),title:(0,a.compressToBase64)(this.initialCode.title)});return}this.initialCode={title:this.title,code:this.code}}ngOnDestroy(){this.subscriptions.unsubscribe()}updateCodeInUrl(e){this.urlService.updateQuery({code:(0,a.compressToBase64)(e)})}updateTitleInUrl(e){this.urlService.updateQuery({title:(0,a.compressToBase64)(e)})}};i.\u0275fac=function(t){return new(t||i)(p(R),p(b),p(x),p(D))},i.\u0275cmp=h({type:i,selectors:[["app-auto-code-to-gif-page"]],inputs:{title:["title","title",e=>(0,a.decompressFromBase64)(e)],code:["code","code",e=>(0,a.decompressFromBase64)(e)],menuForm:"menuForm"},standalone:!0,features:[T,g],decls:1,vars:3,consts:[[3,"delayInMs","theme","initialCode","codeHasChange","titleHasChange"]],template:function(t,n){t&1&&(s(0,"app-auto-code-editor",0),c("codeHasChange",function(y){return n.updateCodeInUrl(y)})("titleHasChange",function(y){return n.updateTitleInUrl(y)}),d()),t&2&&m("delayInMs",n._menuForm.delayInMs)("theme",n._menuForm.theme)("initialCode",n.initialCode)},dependencies:[_,j],styles:["[_nghost-%COMP%]{display:flex;align-items:center;justify-content:center}app-auto-code-editor[_ngcontent-%COMP%]{padding:calc(var(--space-5) * 2) 0}"],changeDetection:0});let r=i;return r})();export{ne as AutoCodeToGifPageComponent};
