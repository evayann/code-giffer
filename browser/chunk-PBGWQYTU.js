import{a as N,b as W,c as z,d as w,e as j,f as P}from"./chunk-WQGKFMJ3.js";import{Ab as b,Ca as s,Ga as M,Gb as G,Ha as k,Ia as E,Ib as $,Ja as A,Ka as S,La as r,Ma as a,Na as T,Qa as v,Ta as m,Ua as g,Wa as p,Y as f,Ya as D,aa as y,ab as u,ba as x,bb as L,cb as V,eb as I,f as O,fb as R,hb as H,sa as c,ta as h,va as F,wa as _,zb as B}from"./chunk-AJ6GJ3E5.js";import"./chunk-VHCA6YAO.js";var Y=()=>({numberRow:1,numberColumn:64,isEditable:!0,hideTextSelection:!1});function K(i,n){if(i&1){let l=v();r(0,"div",0)(1,"div",1)(2,"button",2),p(3," ... "),a(),r(4,"button",3),m("click",function(){let t=y(l).$index,d=g();return x(d.onDeleteFrame(t))}),p(5," X "),a()(),r(6,"div",4)(7,"p"),p(8),a(),T(9,"app-window",5),a()()}if(i&2){let l=n.$implicit,e=n.$index,o=g();c(8),D(" Frame ",e," "),c(),s("theme",o.theme)("code",l.code)("windowConfiguration",L(4,Y))}}function Z(i,n){i&1&&(r(0,"p",6),p(1," No frame yet ! Try something :) "),a())}var J=(()=>{let n=class n{constructor(){this.onDelete=new _,this.onMove=new _}onDeleteFrame(e){this.onDelete.emit(e)}};n.\u0275fac=function(o){return new(o||n)},n.\u0275cmp=f({type:n,selectors:[["app-code-animation-visualisation"]],inputs:{animation:"animation",theme:"theme"},outputs:{onDelete:"onDelete",onMove:"onMove"},standalone:!0,features:[u],decls:3,vars:1,consts:[[1,"frame"],[1,"frame-actions"],["aria-label","Move frame",1,"secondary","icon"],["aria-label","Delete frame",1,"secondary","icon",3,"click"],[1,"frame-card"],[3,"theme","code","windowConfiguration"],[1,"xl"],["class","frame"]],template:function(o,t){o&1&&A(0,K,10,5,"div",7,E,!1,Z,2,0),o&2&&S(t.animation.frameList)},dependencies:[b,w],styles:["[_nghost-%COMP%]{position:relative;display:grid;grid-auto-flow:column;grid-auto-columns:min-content;overflow-x:auto;align-items:center;border-radius:var(--space-4)}[_nghost-%COMP%]:has(p:only-child){display:flex;justify-content:center;align-items:center;gap:10px;overflow-x:auto}[_nghost-%COMP%]:not(:has(p:only-child)){mask:linear-gradient(90deg,rgba(0,0,0,0),#fff var(--space-5) calc(100% - var(--space-5)),rgba(0,0,0,0))}.frame[_ngcontent-%COMP%]{position:relative}.frame-previous[_ngcontent-%COMP%], .frame-next[_ngcontent-%COMP%]{position:sticky;top:-50%;width:36px;aspect-ratio:1;stroke:var(--text-background);z-index:1}.frame-previous[_ngcontent-%COMP%]{left:5%}.frame-next[_ngcontent-%COMP%]{right:5%}.frame-card[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;border:1px solid var(--text-background);border-radius:12px;overflow:hidden;margin:1rem}.frame-actions[_ngcontent-%COMP%]{position:absolute;top:0;right:0;border-radius:50px;font-size:18px;padding:.5rem}"],changeDetection:0});let i=n;return i})();var X=["codeContainer"],q=i=>({width:i});function ee(i,n){if(i&1&&(r(0,"p",4),p(1," Render Gif "),a()),i&2){let l=g();s("ngStyle",V(1,q,l.codeWidth))}}function te(i,n){if(i&1){let l=v();r(0,"div",5)(1,"button",6),m("click",function(){y(l);let o=g();return x(o.addFrameToAnimation())}),p(2," Add frame "),a(),r(3,"button",7),m("click",function(){y(l);let o=g();return x(o.saveCodeAnimation())}),p(4," Save "),a()()}if(i&2){let l=g();c(3),s("disabled",l.codeAnimation.hasNoFrame)}}var Q=(()=>{let n=class n{set initialCode(e){this.code===""&&(this.code=e)}constructor(e){this.changeDetectorReference=e,this.delayInMs=100,this.animation=new _,this.code="",this.codeWidth="64ch",this.codeConfiguration={numberRow:1,numberColumn:64,isEditable:!0,hideTextSelection:!1},this.codeAnimation=new P,this.codeChangeFromAnimation$=new O}deleteFrame(e){this.codeAnimation.removeFrame(e),this.emitCodeAnimationInformation()}codeHasChange(e){this.codeAnimation.hasStart||(this.code=e.value,this.codeConfiguration.numberRow=P.nbRowForCode(this.code))}domHasChange(){this.codeAnimation.hasStart&&this.codeChangeFromAnimation$.next()}addFrameToAnimation(){this.codeAnimation.addFrame({code:this.code,caretPosition:0}),this.emitCodeAnimationInformation()}saveCodeAnimation(){this.codeAnimation.hasNoFrame||j.generate({animation:this.codeAnimation,width:this.codeContainer.nativeElement.clientWidth,height:this.codeContainer.nativeElement.clientHeight,dom:this.codeContainer.nativeElement,scaleFactor:2,frameLoaded:this.codeChangeFromAnimation$.asObservable(),frameOptions:{delayInMs:this.delayInMs},onStart:()=>{this.codeConfiguration.hideTextSelection=!0,this.codeConfiguration.numberRow=this.codeAnimation.nbMaxRow,this.changeDetectorReference.detectChanges()},loadFrame:e=>{if(this.isAlreadyLoad(e)){this.codeChangeFromAnimation$.next();return}this.code=e.code,this.changeDetectorReference.detectChanges()},onFinish:()=>{this.codeConfiguration.hideTextSelection=!1,this.changeDetectorReference.detectChanges()}})}isAlreadyLoad(e){return this.code===e.code}emitCodeAnimationInformation(){this.animation.emit({frameList:this.codeAnimation.frameList,maxRow:this.codeAnimation.nbMaxRow})}};n.\u0275fac=function(o){return new(o||n)(h(F))},n.\u0275cmp=f({type:n,selectors:[["app-code-editor"]],viewQuery:function(o,t){if(o&1&&R(X,5),o&2){let d;I(d=H())&&(t.codeContainer=d.first)}},inputs:{initialCode:"initialCode",theme:"theme",delayInMs:"delayInMs"},outputs:{animation:"animation"},standalone:!0,features:[u],decls:4,vars:5,consts:[[1,"stack-child","code-editor"],[3,"code","theme","windowConfiguration","codeHasChange","domHasChange"],["class","spinner",3,"ngStyle"],["class","animation-controller"],[1,"spinner",3,"ngStyle"],[1,"animation-controller"],[1,"secondary",3,"click"],[1,"primary",3,"disabled","click"]],template:function(o,t){o&1&&(r(0,"div",0)(1,"app-window",1),m("codeHasChange",function(C){return t.codeHasChange(C)})("domHasChange",function(){return t.domHasChange()}),a(),M(2,ee,2,3,"p",2),a(),M(3,te,5,1,"div",3)),o&2&&(c(),s("code",t.code)("theme",t.theme)("windowConfiguration",t.codeConfiguration),c(),k(2,t.codeAnimation.hasStart?2:-1),c(),k(3,t.codeAnimation.hasStart?-1:3))},dependencies:[b,B,w],styles:["[_nghost-%COMP%]{display:flex;align-items:center;justify-content:center;flex-direction:column}.spinner[_ngcontent-%COMP%]{padding:var(--padding-5);margin:0;z-index:0;background-color:#000}.animation-controller[_ngcontent-%COMP%]{display:flex;gap:var(--space-3);padding:var(--padding-3)}"],changeDetection:0});let i=n;return i})();var Se=(()=>{let n=class n{get theme(){return{background:this.getMenuValue("hasBackground")?"var(--gradient)":"transparent",padding:this.getMenuValue("hasPadding")?"var(--padding-5)":"0",codeSyntaxThemeName:"androidstudio",titleColor:"white",caretColor:"white"}}get delayInMs(){return this.getMenuValue("intervalBetweenFrameInMs")}get isExportable(){return this.animation.frameList.length!==0}constructor(e,o,t){this.themeService=t,this.animation={frameList:[],maxRow:0},e.setTheme("//cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/styles/androidstudio.min.css"),this.themeNameList=t.themeNameList;let d=t.currentTheme;this.menuFormGroup=o.group({intervalBetweenFrameInMs:100,theme:d.name,loopIteration:0,hasBackground:!0,hasPadding:!0,isDarkMode:d.variant==="dark"})}loadAnimation(e){this.animation={frameList:[...e.frameList],maxRow:e.maxRow}}onDeleteAnimationKey(e){this.animation.frameList}onThemeChanged(){this.themeService.loadTheme({name:this.getMenuValue("theme"),variant:this.getMenuValue("isDarkMode")?"dark":"light"})}getMenuValue(e){return this.menuFormGroup.get(e)?.value}};n.\u0275fac=function(o){return new(o||n)(h(G),h(N),h($))},n.\u0275cmp=f({type:n,selectors:[["app-frame-per-frame-code-to-gif-page"]],standalone:!0,features:[u],decls:4,vars:6,consts:[[3,"theme","delayInMs","animation"],["codeEditor",""],[3,"animation","theme","onDelete"],[3,"menuForm","themeNameList","themeChanged"]],template:function(o,t){o&1&&(r(0,"app-code-editor",0,1),m("animation",function(C){return t.loadAnimation(C)}),a(),r(2,"app-code-animation-visualisation",2),m("onDelete",function(C){return t.onDeleteAnimationKey(C)}),a(),r(3,"app-menu",3),m("themeChanged",function(){return t.onThemeChanged()}),a()),o&2&&(s("theme",t.theme)("delayInMs",t.delayInMs),c(2),s("animation",t.animation)("theme",t.theme),c(),s("menuForm",t.menuFormGroup)("themeNameList",t.themeNameList))},dependencies:[b,W,Q,J,z],styles:[`@charset "UTF-8";.cdk-overlay-container[_ngcontent-%COMP%], .cdk-global-overlay-wrapper[_ngcontent-%COMP%]{pointer-events:none;top:0;left:0;height:100%;width:100%}.cdk-overlay-container[_ngcontent-%COMP%]{position:fixed;z-index:1000}.cdk-overlay-container[_ngcontent-%COMP%]:empty{display:none}.cdk-global-overlay-wrapper[_ngcontent-%COMP%]{display:flex;position:absolute;z-index:1000}.cdk-overlay-pane[_ngcontent-%COMP%]{position:absolute;pointer-events:auto;box-sizing:border-box;z-index:1000;display:flex;max-width:100%;max-height:100%}.cdk-overlay-backdrop[_ngcontent-%COMP%]{position:absolute;inset:0;z-index:1000;pointer-events:auto;-webkit-tap-highlight-color:rgba(0,0,0,0);transition:opacity .4s cubic-bezier(.25,.8,.25,1);opacity:0}.cdk-overlay-backdrop.cdk-overlay-backdrop-showing[_ngcontent-%COMP%]{opacity:1}.cdk-high-contrast-active[_ngcontent-%COMP%]   .cdk-overlay-backdrop.cdk-overlay-backdrop-showing[_ngcontent-%COMP%]{opacity:.6}.cdk-overlay-dark-backdrop[_ngcontent-%COMP%]{background:rgba(0,0,0,.32)}.cdk-overlay-transparent-backdrop[_ngcontent-%COMP%]{transition:visibility 1ms linear,opacity 1ms linear;visibility:hidden;opacity:1}.cdk-overlay-transparent-backdrop.cdk-overlay-backdrop-showing[_ngcontent-%COMP%]{opacity:0;visibility:visible}.cdk-overlay-backdrop-noop-animation[_ngcontent-%COMP%]{transition:none}.cdk-overlay-connected-position-bounding-box[_ngcontent-%COMP%]{position:absolute;z-index:1000;display:flex;flex-direction:column;min-width:1px;min-height:1px}.cdk-global-scrollblock[_ngcontent-%COMP%]{position:fixed;width:100%;overflow-y:scroll}[_ngcontent-%COMP%]:root{--space-1: 2px;--space-2: 4px;--space-3: 8px;--space-4: 16px;--space-5: 32px;--padding-1: 2px;--padding-2: 4px;--padding-3: 8px;--padding-4: 16px;--padding-5: 32px}body[_ngcontent-%COMP%]{margin:0;width:100dvw;height:100dvh}[_ngcontent-%COMP%]:root[theme=blue-dark]{--background: #455b84;--text-background: #f4f5f8;--gradient: linear-gradient(140deg, rgb(142 199 251), rgb(51 91 237));--logo: #3880ff;--primary: #3880ff;--primary-rgb: 56, 128, 255;--primary-dark: color-mix(in srgb, var(--primary), black 30%);--primary-light: color-mix(in srgb, var(--primary), white 30%);--text-primary: #222428;--secondary: #3dc2ff;--secondary-rgb: 61, 194, 255;--secondary-dark: color-mix(in srgb, var(--secondary), black 30%);--secondary-light: color-mix(in srgb, var(--secondary), white 30%);--text-secondary: #222428}[_ngcontent-%COMP%]:root[theme=blue-light]{--background: #d1d1f4;--text-background: #222428;--gradient: linear-gradient(140deg, rgb(142 199 251), rgb(51 91 237));--logo: #5667ad;--primary: #5667ad;--primary-rgb: 86, 103, 173;--primary-dark: color-mix(in srgb, var(--primary), black 30%);--primary-light: color-mix(in srgb, var(--primary), white 30%);--text-primary: #222428;--secondary: #919fdb;--secondary-rgb: 145, 159, 219;--secondary-dark: color-mix(in srgb, var(--secondary), black 30%);--secondary-light: color-mix(in srgb, var(--secondary), white 30%);--text-secondary: #222428}[_ngcontent-%COMP%]:root[theme=green-light]{--background: #ecfcec;--text-background: #222428;--gradient: linear-gradient(140deg, #74D680, #378B29);--logo: #4d9759;--primary: #55ab63;--primary-rgb: 85, 171, 99;--primary-dark: color-mix(in srgb, var(--primary), black 30%);--primary-light: color-mix(in srgb, var(--primary), white 30%);--text-primary: #222428;--secondary: #88d1b6;--secondary-rgb: 136, 209, 182;--secondary-dark: color-mix(in srgb, var(--secondary), black 30%);--secondary-light: color-mix(in srgb, var(--secondary), white 30%);--text-secondary: #222428}[_ngcontent-%COMP%]:root[theme=green-dark]{--background: #062606;--text-background: #f4f5f8;--gradient: linear-gradient(140deg, #74D680, #378B29);--logo: #54ab63;--primary: #54ab63;--primary-rgb: 84, 171, 99;--primary-dark: color-mix(in srgb, var(--primary), black 30%);--primary-light: color-mix(in srgb, var(--primary), white 30%);--text-primary: #222428;--secondary: #2d5c4b;--secondary-rgb: 45, 92, 75;--secondary-dark: color-mix(in srgb, var(--secondary), black 30%);--secondary-light: color-mix(in srgb, var(--secondary), white 30%);--text-secondary: #f4f5f8}.stack-child[_ngcontent-%COMP%]{display:grid;grid-template-rows:1fr;grid-template-columns:1fr}.stack-child[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{grid-row:1;grid-column:1}button[_ngcontent-%COMP%], .button[_ngcontent-%COMP%]{cursor:pointer;color:var(--_btn-color);background-color:var(--_btn-bg);border:var(--btn-border-width) solid var(--btn-border-color);border-radius:var(--space-3);font-weight:var(--btn-font-weight);padding:var(--space-3);transition:all .3s ease-in-out,font-weight .4s ease-in-out;--btn-color: var(--text-background);--_btn-color: var(--btn-color);--btn-bg: transparent;--_btn-bg: var(--btn-bg);--btn-border-width: 1px;--btn-border-color: var(--btn-color);--btn-font-weight: normal}button[_ngcontent-%COMP%]:disabled, button.disabled[_ngcontent-%COMP%], .button[_ngcontent-%COMP%]:disabled, .button.disabled[_ngcontent-%COMP%]{cursor:auto;opacity:.6}button[_ngcontent-%COMP%]:hover:not(button:disabled, button.disabled[_ngcontent-%COMP%], .button[_ngcontent-%COMP%]:disabled, .button.disabled)[_ngcontent-%COMP%], .button[_ngcontent-%COMP%]:hover:not(button:disabled, button.disabled[_ngcontent-%COMP%], .button[_ngcontent-%COMP%]:disabled, .button.disabled)[_ngcontent-%COMP%]{--_btn-color: color-mix(in srgb, var(--btn-color), var(--btn-bg) 80%);--_btn-bg: color-mix(in srgb, var(--btn-bg), var(--btn-color) 20%)}button.primary[_ngcontent-%COMP%], .button.primary[_ngcontent-%COMP%]{--btn-color: var(--text-primary);--btn-bg: var(--primary)}button.secondary[_ngcontent-%COMP%], .button.secondary[_ngcontent-%COMP%]{--btn-color: var(--text-secondary);--btn-bg: var(--secondary)}button.invisible[_ngcontent-%COMP%], .button.invisible[_ngcontent-%COMP%]{--btn-bg: transparent;--btn-border-width: 0}*[_ngcontent-%COMP%]:not(code   *)[_ngcontent-%COMP%]{font-family:Chillax-Regular;color:var(--text-background);margin:0}*[_ngcontent-%COMP%]:not(code   *).label[_ngcontent-%COMP%]{font-family:Chillax-Light;font-size:12px}*[_ngcontent-%COMP%]:not(code   *).xl[_ngcontent-%COMP%]{font-family:Chillax-Medium;font-size:24px}*[_ngcontent-%COMP%]:not(code   *).text-primary[_ngcontent-%COMP%]{color:var(--primary)}a[_ngcontent-%COMP%]{cursor:pointer}a[_ngcontent-%COMP%]:hover{text-decoration:none}select[_ngcontent-%COMP%]{color:var(--text-primary);background-color:var(--primary);border-radius:var(--space-2)}input[_ngcontent-%COMP%]{color:var(--text-primary);background-color:var(--primary);border-radius:var(--space-2);border:1px solid gray}input[type=checkbox][_ngcontent-%COMP%]{accent-color:var(--primary);cursor:pointer}@font-face{font-family:Chillax-Variable;src:url("./media/Chillax-Variable-5TZBJ6RH.woff2") format("woff2"),url("./media/Chillax-Variable-GUTGERYV.woff") format("woff"),url("./media/Chillax-Variable-XJZMLVRM.ttf") format("truetype");font-weight:200 700;font-display:swap;font-style:normal}@font-face{font-family:Chillax-Extralight;src:url("./media/Chillax-Extralight-VMLRC4XP.woff2") format("woff2"),url("./media/Chillax-Extralight-OY23W4QL.woff") format("woff"),url("./media/Chillax-Extralight-Z6EZPJ5D.ttf") format("truetype");font-weight:200;font-display:swap;font-style:normal}@font-face{font-family:Chillax-Light;src:url("./media/Chillax-Light-7N5LKZDB.woff2") format("woff2"),url("./media/Chillax-Light-W7Q5OMRC.woff") format("woff"),url("./media/Chillax-Light-N2TWVACI.ttf") format("truetype");font-weight:300;font-display:swap;font-style:normal}@font-face{font-family:Chillax-Regular;src:url("./media/Chillax-Regular-IWU2LEHA.woff2") format("woff2"),url("./media/Chillax-Regular-TUYLHPBG.woff") format("woff"),url("./media/Chillax-Regular-VS7UYA5O.ttf") format("truetype");font-weight:400;font-display:swap;font-style:normal}@font-face{font-family:Chillax-Medium;src:url("./media/Chillax-Medium-NIVAGDSI.woff2") format("woff2"),url("./media/Chillax-Medium-L3WKJ3CU.woff") format("woff"),url("./media/Chillax-Medium-SLJUWLYH.ttf") format("truetype");font-weight:500;font-display:swap;font-style:normal}@font-face{font-family:Chillax-Semibold;src:url("./media/Chillax-Semibold-YNVWM5XA.woff2") format("woff2"),url("./media/Chillax-Semibold-FLECUI7S.woff") format("woff"),url("./media/Chillax-Semibold-WIH2KCOD.ttf") format("truetype");font-weight:600;font-display:swap;font-style:normal}@font-face{font-family:Chillax-Bold;src:url("./media/Chillax-Bold-ARM3VHIE.woff2") format("woff2"),url("./media/Chillax-Bold-VBOOD3LC.woff") format("woff"),url("./media/Chillax-Bold-V26PTJET.ttf") format("truetype");font-weight:700;font-display:swap;font-style:normal}a.button[_ngcontent-%COMP%]{display:block;text-decoration:none}*[_ngcontent-%COMP%]:not(.cdk-overlay-connected-position-bounding-box){transition:.35s linear}.page[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{height:100%}[_nghost-%COMP%]{display:grid;grid-template-columns:1fr;grid-template-rows:2fr auto 3fr;gap:0px 0px;grid-template-areas:"." "editor" "frame-list";margin:var(--space-5);height:100%}app-code-editor[_ngcontent-%COMP%]{grid-area:editor}app-code-animation-visualisation[_ngcontent-%COMP%]{grid-area:frame-list}app-menu[_ngcontent-%COMP%]{position:absolute;top:var(--space-5);right:var(--space-5)}


















`],changeDetection:0});let i=n;return i})();export{Se as FramePerFrameCodeToGifPageComponent};
