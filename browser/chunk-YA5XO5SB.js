import{a as L,c as V,d as w,e as W,f as P}from"./chunk-WQGKFMJ3.js";import{Ab as f,Ca as s,Ga as H,Gb as k,Ha as T,Ib as O,La as r,Ma as d,Na as b,Qa as v,R,Ta as c,Ua as u,Wa as _,Y as p,aa as C,ab as h,ba as g,eb as S,f as A,fb as D,hb as j,qa as I,sa as y,ta as m,va as F,wa as E}from"./chunk-AJ6GJ3E5.js";import"./chunk-VHCA6YAO.js";var z=["codeContainer"],N=(()=>{let n=class n{set codeAnimation(e){this._codeAnimation=e,this.codeConfiguration={numberRow:e.nbMaxRow,numberColumn:64,isEditable:!0,hideTextSelection:!0}}constructor(e){this.changeDetectorReference=e,this.delayInMs=100,this.onRecordFinish=new E,this.code="",this.codeChangeFromAnimation$=new A}ngAfterViewInit(){this.saveCodeAnimation()}domHasChange(){this._codeAnimation.hasStart&&this.codeChangeFromAnimation$.next()}saveCodeAnimation(){this._codeAnimation.hasNoFrame||W.generate({animation:this._codeAnimation,width:this.codeContainer.nativeElement.clientWidth,height:this.codeContainer.nativeElement.clientHeight,dom:this.codeContainer.nativeElement,scaleFactor:2,frameLoaded:this.codeChangeFromAnimation$.asObservable(),frameOptions:{delayInMs:this.delayInMs},loadFrame:e=>{if(this.isAlreadyLoad(e)){this.codeChangeFromAnimation$.next();return}this.code=e.code,this.changeDetectorReference.detectChanges()},onFinish:()=>{this.codeConfiguration.hideTextSelection=!1,this.changeDetectorReference.detectChanges(),this.onRecordFinish.emit(null)}})}isAlreadyLoad(e){return this.code===e.code}};n.\u0275fac=function(t){return new(t||n)(m(F))},n.\u0275cmp=p({type:n,selectors:[["app-code-recorder"]],viewQuery:function(t,i){if(t&1&&D(z,5,I),t&2){let l;S(l=j())&&(i.codeContainer=l.first)}},inputs:{title:"title",delayInMs:"delayInMs",theme:"theme",codeAnimation:"codeAnimation"},outputs:{onRecordFinish:"onRecordFinish"},standalone:!0,features:[h],decls:5,vars:4,consts:[[1,"stack-child","code-editor"],[3,"title","code","theme","windowConfiguration","domHasChange"],["codeContainer",""],[1,"spinner"]],template:function(t,i){t&1&&(r(0,"div",0)(1,"app-window",1,2),c("domHasChange",function(){return i.domHasChange()}),d(),r(3,"p",3),_(4," Render frames "),d()()),t&2&&(y(),s("title",i.title)("code",i.code)("theme",i.theme)("windowConfiguration",i.codeConfiguration))},dependencies:[f,w],styles:[".spinner[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;color:var(--text-background);background-color:var(--background);width:100%;z-index:1000}"],changeDetection:0});let o=n;return o})();function J(o,n){if(o&1){let a=v();r(0,"app-window",2),c("titleChange",function(t){C(a);let i=u();return g(i.title=t)})("codeHasChange",function(t){C(a);let i=u();return g(i.updateCode(t.value))}),d()}if(o&2){let a=u();s("code",a.code)("title",a.title)("theme",a.theme)("windowConfiguration",a.codeConfiguration)}}function K(o,n){if(o&1){let a=v();r(0,"app-code-recorder",3),c("onRecordFinish",function(){C(a);let t=u();return g(t.finishRecord())}),d()}if(o&2){let a=u();s("delayInMs",a.delayInMs)("title",a.title)("theme",a.theme)("codeAnimation",a.codeAnimation)}}var B=(()=>{let n=class n{constructor(){this.title="Snippet title",this.code="",this.isRecording=!1,this.codeConfiguration={numberRow:1,numberColumn:64,isEditable:!0,hideTextSelection:!1}}set initialCode(e){this.title=e.title,this.code=e.code}updateCode(e){this.code=e}startRecord(){this.codeAnimation=P.fromCode(this.code),this.isRecording=!0}finishRecord(){this.isRecording=!1}};n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=p({type:n,selectors:[["app-auto-code-editor"]],inputs:{delayInMs:"delayInMs",theme:"theme",initialCode:"initialCode"},standalone:!0,features:[h],decls:4,vars:1,consts:[[3,"code","title","theme","windowConfiguration"],[3,"click"],[3,"code","title","theme","windowConfiguration","titleChange","codeHasChange"],[3,"delayInMs","title","theme","codeAnimation","onRecordFinish"]],template:function(t,i){t&1&&(H(0,J,1,4,"app-window",0)(1,K,1,4),r(2,"button",1),c("click",function(){return i.startRecord()}),_(3," Animate my snippet ! "),d()),t&2&&T(0,i.isRecording?1:0)},dependencies:[f,w,N],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:var(--space-3)}"],changeDetection:0});let o=n;return o})();var G=[{title:"Hello World",frameList:["","<p> </p>","<p> H </p>","<p> He </p>","<p> Hel </p>","<p> Hell </p>","<p> Hello </p>","<p> Hello  </p>","<p> Hello W </p>","<p> Hello Wo </p>","<p> Hello Wor </p>","<p> Hello Worl </p>","<p> Hello World </p>"]}];var Q=[{title:"Hello World",frameList:["","function","function d","function di","function dis","function disp","function displ","function display","function display()","function display() {}",`function display() {

}`,`function display() {
	c
}`,`function display() {
	co
}`,`function display() {
	con
}`,`function display() {
	cons
}`,`function display() {
	conso
}`,`function display() {
	consol
}`,`function display() {
	console
}`,`function display() {
	console.
}`,`function display() {
	console.
}`,`function display() {
	console.lo
}`,`function display() {
	console.log
}`,`function display() {
	console.log
}`,`function display() {
	console.log(); 
}`,`function display() {
	console.log('hello world'); 
}`]}];var $=["html","javascript"];var Y={html:G,javascript:Q},q=(()=>{let n=class n{getRandomExample(e){let t=this.getRandomExampleAnimation(e);return{title:t.title,code:t.frameList.at(-1)}}getRandomExampleAnimation(e){return e==="auto"&&(e=this.randomIn($)),this.randomIn(Y[e])}randomIn(e){let t=Math.floor(Math.random()*e.length);return e.at(t)}};n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"});let o=n;return o})();var Ee=(()=>{let n=class n{get theme(){return{background:this.getMenuValue("hasBackground")?"var(--gradient)":"transparent",padding:this.getMenuValue("hasPadding")?"var(--padding-5)":"0",codeSyntaxThemeName:"androidstudio",titleColor:"white",caretColor:"white"}}get delayInMs(){return this.getMenuValue("intervalBetweenFrameInMs")}constructor(e,t,i,l){this.themeService=i,e.setTheme("//cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/styles/androidstudio.min.css"),this.themeNameList=i.themeNameList;let x=i.currentTheme;this.menuFormGroup=t.group({intervalBetweenFrameInMs:100,theme:x.name,loopIteration:0,hasBackground:!0,hasPadding:!0,isDarkMode:x.variant==="dark"}),this.initialCode=l.getRandomExample("auto")}onThemeChanged(){this.themeService.loadTheme({name:this.getMenuValue("theme"),variant:this.getMenuValue("isDarkMode")?"dark":"light"})}getMenuValue(e){return this.menuFormGroup.get(e)?.value}};n.\u0275fac=function(t){return new(t||n)(m(k),m(L),m(O),m(q))},n.\u0275cmp=p({type:n,selectors:[["app-auto-code-to-gif-page"]],standalone:!0,features:[h],decls:2,vars:5,consts:[[3,"delayInMs","theme","initialCode"],[3,"menuForm","themeNameList","themeChanged"]],template:function(t,i){t&1&&(b(0,"app-auto-code-editor",0),r(1,"app-menu",1),c("themeChanged",function(){return i.onThemeChanged()}),d()),t&2&&(s("delayInMs",i.delayInMs)("theme",i.theme)("initialCode",i.initialCode),y(),s("menuForm",i.menuFormGroup)("themeNameList",i.themeNameList))},dependencies:[f,B,V],styles:["[_nghost-%COMP%]{display:flex;align-items:center;justify-content:center}app-menu[_ngcontent-%COMP%]{position:absolute;top:var(--space-5);right:var(--space-5)}app-auto-code-editor[_ngcontent-%COMP%]{padding:calc(var(--space-5) * 2) 0}"],changeDetection:0});let o=n;return o})();export{Ee as AutoCodeToGifPageComponent};
