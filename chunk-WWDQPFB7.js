import{a as $,c as Q,d as W,e as q,f as z,g as J,h as K,i as U,j as X,k as Y,l as Z,m as ee,n as te,o as ne,p as b,q as ie,r as S}from"./chunk-YFSDVJZJ.js";import{Bb as g,Ca as c,Ga as x,Ha as V,Hb as oe,Ia as T,Ja as F,Jb as ae,Ka as R,La as a,Ma as r,Na as _,Oa as L,Pa as O,Qa as w,Ta as l,Ua as C,Va as P,Wa as m,Y as p,Ya as A,aa as y,ab as h,ba as v,bb as H,f as k,fb as I,gb as G,ib as j,jb as B,qa as D,sa as u,ta as f,va as N,wa as M}from"./chunk-E3HULP7M.js";import"./chunk-VHCA6YAO.js";function le(n,e){if(n&1&&(a(0,"option",7),m(1),r()),n&2){let d=e.$implicit;c("value",d),u(),A(" ",d," ")}}function ue(n,e){if(n&1&&(a(0,"option",7),m(1),r()),n&2){let d=e.$implicit;c("value",d),u(),A(" ",d," ")}}function pe(n,e){if(n&1){let d=w();a(0,"ul",8)(1,"li")(2,"label",1),m(3," Background "),_(4,"input",9),r()(),a(5,"li")(6,"label",1),m(7," Dark mode "),a(8,"input",10),l("ngModelChange",function(){y(d);let t=C();return v(t.onThemeChange())}),r()()(),a(9,"li")(10,"label",1),m(11," Padding "),_(12,"input",11),r()()()}}var re=(()=>{let e=class e{constructor(){this.themeChanged=new M}onThemeChange(){this.themeChanged.emit(null)}};e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=p({type:e,selectors:[["app-menu"]],inputs:{formGroup:"formGroup",themeNameList:"themeNameList",languageNameList:"languageNameList"},outputs:{themeChanged:"themeChanged"},standalone:!0,features:[h],decls:18,vars:2,consts:[[3,"formGroup"],[1,"label"],["formControlName","language"],["type","number","formControlName","loopIteration"],["formControlName","theme",3,"ngModelChange"],[1,"primary",3,"cdkMenuTriggerFor"],["styleMenu",""],[3,"value"],["cdkMenu","",1,"style-menu"],["type","checkbox","formControlName","hasBackground"],["type","checkbox","formControlName","isDarkMode",3,"ngModelChange"],["type","checkbox","formControlName","hasPadding"]],template:function(t,o){if(t&1&&(L(0,0),a(1,"label",1),m(2," Language "),a(3,"select",2),F(4,le,2,2,"option",7,T),r()(),a(6,"label",1),m(7," Loop iteration "),_(8,"input",3),r(),a(9,"label",1),m(10," Theme "),a(11,"select",4),l("ngModelChange",function(){return o.onThemeChange()}),F(12,ue,2,2,"option",7,T),r()(),a(14,"button",5),m(15," Style "),r(),x(16,pe,13,0,"ng-template",null,6,B),O()),t&2){let s=P(17);c("formGroup",o.formGroup),u(4),R(o.languageNameList),u(8),R(o.themeNameList),u(2),c("cdkMenuTriggerFor",s)}},dependencies:[g,ne,Z,ee,q,K,W,Y,z,J,U,X,$,Q],styles:["[_nghost-%COMP%]{display:flex;gap:var(--space-3);-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px);background:rgba(var(--secondary-rgb),40%);border-radius:var(--space-3);padding:var(--padding-4)}[_nghost-%COMP%] > label[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;max-width:90px}.style-menu[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:var(--space-2);list-style:none;border:1px solid white;border-radius:var(--space-3);background-color:var(--secondary);margin:0;padding:var(--padding-2);width:100%}.style-menu[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:flex;gap:var(--space-1);width:100%}.style-menu[_ngcontent-%COMP%]   label[_ngcontent-%COMP%] > input[_ngcontent-%COMP%]{margin-left:auto}"],changeDetection:0});let n=e;return n})();var he=["codeContainer"],de=(()=>{let e=class e{constructor(i){this.changeDetectorReference=i,this.onRecordFinish=new M,this.code="",this.codeWidth="64ch",this.codeConfiguration={numberRow:1,numberColumn:64,isEditable:!0,hideTextSelection:!1},this.codeChangeFromAnimation$=new k}ngAfterViewInit(){this.saveCodeAnimation()}codeHasChange(i){this.codeAnimation.hasStart||(this.code=i.value,this.codeConfiguration.numberRow=S.nbRowForCode(this.code))}domHasChange(){this.codeAnimation.hasStart&&this.codeChangeFromAnimation$.next()}saveCodeAnimation(){this.codeAnimation.hasNoFrame||(console.log(this.codeContainer,this.codeContainer.nativeElement),ie.generate({animation:this.codeAnimation,width:this.codeContainer.nativeElement.clientWidth,height:this.codeContainer.nativeElement.clientHeight,dom:this.codeContainer.nativeElement,scaleFactor:2,frameLoaded:this.codeChangeFromAnimation$.asObservable(),onStart:()=>{this.codeConfiguration.hideTextSelection=!0,this.codeConfiguration.numberRow=this.codeAnimation.nbMaxRow,this.changeDetectorReference.detectChanges()},loadFrame:i=>{if(this.isAlreadyLoad(i)){this.codeChangeFromAnimation$.next();return}this.code=i.code,this.changeDetectorReference.detectChanges()},onFinish:()=>{this.codeConfiguration.hideTextSelection=!1,this.changeDetectorReference.detectChanges(),this.onRecordFinish.emit(null)}}))}isAlreadyLoad(i){return this.code===i.code}};e.\u0275fac=function(t){return new(t||e)(f(N))},e.\u0275cmp=p({type:e,selectors:[["app-code-recorder"]],viewQuery:function(t,o){if(t&1&&G(he,5,D),t&2){let s;I(s=j())&&(o.codeContainer=s.first)}},inputs:{codeAnimation:"codeAnimation",language:"language",theme:"theme"},outputs:{onRecordFinish:"onRecordFinish"},standalone:!0,features:[h],decls:5,vars:4,consts:[[1,"stack-child","code-editor"],[3,"language","code","theme","windowConfiguration","codeHasChange","domHasChange"],["codeContainer",""],[1,"spinner"]],template:function(t,o){t&1&&(a(0,"div",0)(1,"app-window",1,2),l("codeHasChange",function(ce){return o.codeHasChange(ce)})("domHasChange",function(){return o.domHasChange()}),r(),a(3,"p",3),m(4," Render frames "),r()()),t&2&&(u(),c("language",o.language)("code",o.code)("theme",o.theme)("windowConfiguration",o.codeConfiguration))},dependencies:[g,b],styles:[".spinner[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;background-color:#000;width:100%}"],changeDetection:0});let n=e;return n})();function ge(n,e){if(n&1){let d=w();a(0,"app-window",2),l("codeHasChange",function(t){y(d);let o=C();return v(o.updateCode(t.value))}),r()}if(n&2){let d=C();c("code",d.code)("theme",d.theme)("windowConfiguration",d.codeConfiguration)}}function Ce(n,e){if(n&1){let d=w();a(0,"app-code-recorder",3),l("onRecordFinish",function(){y(d);let t=C();return v(t.finishRecord())}),r()}if(n&2){let d=C();c("theme",d.theme)("codeAnimation",d.codeAnimation)}}var me=(()=>{let e=class e{constructor(){this.code="",this.isRecording=!1,this.codeConfiguration={numberRow:1,numberColumn:64,isEditable:!0,hideTextSelection:!1}}updateCode(i){this.code=i}startRecord(){this.codeAnimation=S.fromCode(this.code),this.isRecording=!0}finishRecord(){this.isRecording=!1}};e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=p({type:e,selectors:[["app-auto-code-editor"]],inputs:{theme:"theme"},standalone:!0,features:[h],decls:4,vars:1,consts:[["language","auto",3,"code","theme","windowConfiguration"],[3,"click"],["language","auto",3,"code","theme","windowConfiguration","codeHasChange"],["language","auto",3,"theme","codeAnimation","onRecordFinish"]],template:function(t,o){t&1&&(x(0,ge,1,3,"app-window",0)(1,Ce,1,2),a(2,"button",1),l("click",function(){return o.startRecord()}),m(3," Animate my snippet ! "),r()),t&2&&V(0,o.isRecording?1:0)},dependencies:[g,b,de],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:var(--space-3)}"],changeDetection:0});let n=e;return n})();var fe=()=>["auto","ts","html"],Ue=(()=>{let e=class e{get theme(){return{background:this.getMenuValue("hasBackground")?"var(--gradient)":"transparent",padding:this.getMenuValue("hasPadding")?"var(--padding-5)":"0",codeSyntaxThemeName:"androidstudio",titleColor:"white",caretColor:"white"}}constructor(i,t,o){this.themeService=o,i.setTheme("//cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/styles/androidstudio.min.css"),this.themeNameList=o.themeNameList;let s=o.currentTheme;this.menuFormGroup=t.group({language:"auto",theme:s.name,loopIteration:0,hasBackground:!0,hasPadding:!0,isDarkMode:s.variant==="dark"})}onThemeChanged(){this.themeService.loadTheme({name:this.getMenuValue("theme"),variant:this.getMenuValue("isDarkMode")?"dark":"light"})}getMenuValue(i){return this.menuFormGroup.get(i)?.value}};e.\u0275fac=function(t){return new(t||e)(f(oe),f(te),f(ae))},e.\u0275cmp=p({type:e,selectors:[["app-auto-code-to-gif-page"]],standalone:!0,features:[h],decls:2,vars:5,consts:[[3,"theme"],[3,"formGroup","languageNameList","themeNameList","themeChanged"]],template:function(t,o){t&1&&(_(0,"app-auto-code-editor",0),a(1,"app-menu",1),l("themeChanged",function(){return o.onThemeChanged()}),r()),t&2&&(c("theme",o.theme),u(),c("formGroup",o.menuFormGroup)("languageNameList",H(4,fe))("themeNameList",o.themeNameList))},dependencies:[g,me,re],styles:["[_nghost-%COMP%]{display:flex;align-items:center;justify-content:center}app-menu[_ngcontent-%COMP%]{position:absolute;top:var(--space-5);right:var(--space-5)}app-auto-code-editor[_ngcontent-%COMP%]{padding:calc(var(--space-5) * 2) 0}"],changeDetection:0});let n=e;return n})();export{Ue as AutoCodeToGifPageComponent};
