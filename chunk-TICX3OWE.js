import{$ as Ze,Aa as pe,B as de,Ba as he,Ca as et,Da as _e,E as qe,Ea as tt,G as ne,Ga as ae,I as Xe,Ia as ke,K as se,L as le,Na as Ie,Oa as Ee,Qa as Se,X as xe,Ya as Te,Z,_ as ye,_a as oe,aa as J,c as $e,db as nt,e as Ne,ea as Je,fa as ee,ga as Ce,ja as Ke,jb as rt,ka as Ye,mb as Ge,oa as te,pa as K,qa as re,ta as be,wa as ie,xa as ce}from"./chunk-UMZHEPYP.js";import{a as Qe,c as we,d as ze}from"./chunk-VHCA6YAO.js";var At=we((Wt,Ae)=>{"use strict";var We=function(){var t=String.fromCharCode,e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",w="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$",a={};function n(u,f){if(!a[u]){a[u]={};for(var _=0;_<u.length;_++)a[u][u.charAt(_)]=_}return a[u][f]}var c={compressToBase64:function(u){if(u==null)return"";var f=c._compress(u,6,function(_){return e.charAt(_)});switch(f.length%4){default:case 0:return f;case 1:return f+"===";case 2:return f+"==";case 3:return f+"="}},decompressFromBase64:function(u){return u==null?"":u==""?null:c._decompress(u.length,32,function(f){return n(e,u.charAt(f))})},compressToUTF16:function(u){return u==null?"":c._compress(u,15,function(f){return t(f+32)})+" "},decompressFromUTF16:function(u){return u==null?"":u==""?null:c._decompress(u.length,16384,function(f){return u.charCodeAt(f)-32})},compressToUint8Array:function(u){for(var f=c.compress(u),_=new Uint8Array(f.length*2),v=0,k=f.length;v<k;v++){var O=f.charCodeAt(v);_[v*2]=O>>>8,_[v*2+1]=O%256}return _},decompressFromUint8Array:function(u){if(u==null)return c.decompress(u);for(var f=new Array(u.length/2),_=0,v=f.length;_<v;_++)f[_]=u[_*2]*256+u[_*2+1];var k=[];return f.forEach(function(O){k.push(t(O))}),c.decompress(k.join(""))},compressToEncodedURIComponent:function(u){return u==null?"":c._compress(u,6,function(f){return w.charAt(f)})},decompressFromEncodedURIComponent:function(u){return u==null?"":u==""?null:(u=u.replace(/ /g,"+"),c._decompress(u.length,32,function(f){return n(w,u.charAt(f))}))},compress:function(u){return c._compress(u,16,function(f){return t(f)})},_compress:function(u,f,_){if(u==null)return"";var v,k,O={},z={},U="",G="",L="",P=2,F=3,E=2,S=[],x=0,m=0,C;for(C=0;C<u.length;C+=1)if(U=u.charAt(C),Object.prototype.hasOwnProperty.call(O,U)||(O[U]=F++,z[U]=!0),G=L+U,Object.prototype.hasOwnProperty.call(O,G))L=G;else{if(Object.prototype.hasOwnProperty.call(z,L)){if(L.charCodeAt(0)<256){for(v=0;v<E;v++)x=x<<1,m==f-1?(m=0,S.push(_(x)),x=0):m++;for(k=L.charCodeAt(0),v=0;v<8;v++)x=x<<1|k&1,m==f-1?(m=0,S.push(_(x)),x=0):m++,k=k>>1}else{for(k=1,v=0;v<E;v++)x=x<<1|k,m==f-1?(m=0,S.push(_(x)),x=0):m++,k=0;for(k=L.charCodeAt(0),v=0;v<16;v++)x=x<<1|k&1,m==f-1?(m=0,S.push(_(x)),x=0):m++,k=k>>1}P--,P==0&&(P=Math.pow(2,E),E++),delete z[L]}else for(k=O[L],v=0;v<E;v++)x=x<<1|k&1,m==f-1?(m=0,S.push(_(x)),x=0):m++,k=k>>1;P--,P==0&&(P=Math.pow(2,E),E++),O[G]=F++,L=String(U)}if(L!==""){if(Object.prototype.hasOwnProperty.call(z,L)){if(L.charCodeAt(0)<256){for(v=0;v<E;v++)x=x<<1,m==f-1?(m=0,S.push(_(x)),x=0):m++;for(k=L.charCodeAt(0),v=0;v<8;v++)x=x<<1|k&1,m==f-1?(m=0,S.push(_(x)),x=0):m++,k=k>>1}else{for(k=1,v=0;v<E;v++)x=x<<1|k,m==f-1?(m=0,S.push(_(x)),x=0):m++,k=0;for(k=L.charCodeAt(0),v=0;v<16;v++)x=x<<1|k&1,m==f-1?(m=0,S.push(_(x)),x=0):m++,k=k>>1}P--,P==0&&(P=Math.pow(2,E),E++),delete z[L]}else for(k=O[L],v=0;v<E;v++)x=x<<1|k&1,m==f-1?(m=0,S.push(_(x)),x=0):m++,k=k>>1;P--,P==0&&(P=Math.pow(2,E),E++)}for(k=2,v=0;v<E;v++)x=x<<1|k&1,m==f-1?(m=0,S.push(_(x)),x=0):m++,k=k>>1;for(;;)if(x=x<<1,m==f-1){S.push(_(x));break}else m++;return S.join("")},decompress:function(u){return u==null?"":u==""?null:c._decompress(u.length,32768,function(f){return u.charCodeAt(f)})},_decompress:function(u,f,_){var v=[],k,O=4,z=4,U=3,G="",L=[],P,F,E,S,x,m,C,h={val:_(0),position:f,index:1};for(P=0;P<3;P+=1)v[P]=P;for(E=0,x=Math.pow(2,2),m=1;m!=x;)S=h.val&h.position,h.position>>=1,h.position==0&&(h.position=f,h.val=_(h.index++)),E|=(S>0?1:0)*m,m<<=1;switch(k=E){case 0:for(E=0,x=Math.pow(2,8),m=1;m!=x;)S=h.val&h.position,h.position>>=1,h.position==0&&(h.position=f,h.val=_(h.index++)),E|=(S>0?1:0)*m,m<<=1;C=t(E);break;case 1:for(E=0,x=Math.pow(2,16),m=1;m!=x;)S=h.val&h.position,h.position>>=1,h.position==0&&(h.position=f,h.val=_(h.index++)),E|=(S>0?1:0)*m,m<<=1;C=t(E);break;case 2:return""}for(v[3]=C,F=C,L.push(C);;){if(h.index>u)return"";for(E=0,x=Math.pow(2,U),m=1;m!=x;)S=h.val&h.position,h.position>>=1,h.position==0&&(h.position=f,h.val=_(h.index++)),E|=(S>0?1:0)*m,m<<=1;switch(C=E){case 0:for(E=0,x=Math.pow(2,8),m=1;m!=x;)S=h.val&h.position,h.position>>=1,h.position==0&&(h.position=f,h.val=_(h.index++)),E|=(S>0?1:0)*m,m<<=1;v[z++]=t(E),C=z-1,O--;break;case 1:for(E=0,x=Math.pow(2,16),m=1;m!=x;)S=h.val&h.position,h.position>>=1,h.position==0&&(h.position=f,h.val=_(h.index++)),E|=(S>0?1:0)*m,m<<=1;v[z++]=t(E),C=z-1,O--;break;case 2:return L.join("")}if(O==0&&(O=Math.pow(2,U),U++),v[C])G=v[C];else if(C===z)G=F+F.charAt(0);else return null;L.push(G),v[z++]=F+G.charAt(0),O--,F=G,O==0&&(O=Math.pow(2,U),U++)}}};return c}();typeof define=="function"&&define.amd?define(function(){return We}):typeof Ae<"u"&&Ae!=null?Ae.exports=We:typeof angular<"u"&&angular!=null&&angular.module("LZString",[]).factory("LZString",function(){return We})});var ut=we((ht,je)=>{"use strict";(function(t){"use strict";var e=E(),w=S(),a=x(),n=m(),c={imagePlaceholder:void 0,cacheBust:!1},u={toSvg:f,toPng:v,toJpeg:k,toBlob:O,toPixelData:_,impl:{fontFaces:a,images:n,util:e,inliner:w,options:{}}};typeof je<"u"?je.exports=u:t.domtoimage=u;function f(C,h){return h=h||{},z(h),Promise.resolve(C).then(function(s){return G(s,h.filter,!0)}).then(L).then(P).then(A).then(function(s){return F(s,h.width||e.width(C),h.height||e.height(C))});function A(s){return h.bgcolor&&(s.style.backgroundColor=h.bgcolor),h.width&&(s.style.width=h.width+"px"),h.height&&(s.style.height=h.height+"px"),h.style&&Object.keys(h.style).forEach(function(o){s.style[o]=h.style[o]}),s}}function _(C,h){return U(C,h||{}).then(function(A){return A.getContext("2d").getImageData(0,0,e.width(C),e.height(C)).data})}function v(C,h){return U(C,h||{}).then(function(A){return A.toDataURL()})}function k(C,h){return h=h||{},U(C,h).then(function(A){return A.toDataURL("image/jpeg",h.quality||1)})}function O(C,h){return U(C,h||{}).then(e.canvasToBlob)}function z(C){typeof C.imagePlaceholder>"u"?u.impl.options.imagePlaceholder=c.imagePlaceholder:u.impl.options.imagePlaceholder=C.imagePlaceholder,typeof C.cacheBust>"u"?u.impl.options.cacheBust=c.cacheBust:u.impl.options.cacheBust=C.cacheBust}function U(C,h){return f(C,h).then(e.makeImage).then(e.delay(100)).then(function(s){var o=A(C);return o.getContext("2d").drawImage(s,0,0),o});function A(s){var o=document.createElement("canvas");if(o.width=h.width||e.width(s),o.height=h.height||e.height(s),h.bgcolor){var r=o.getContext("2d");r.fillStyle=h.bgcolor,r.fillRect(0,0,o.width,o.height)}return o}}function G(C,h,A){if(!A&&h&&!h(C))return Promise.resolve();return Promise.resolve(C).then(s).then(function(i){return o(C,i,h)}).then(function(i){return r(C,i)});function s(i){return i instanceof HTMLCanvasElement?e.makeImage(i.toDataURL()):i.cloneNode(!1)}function o(i,l,g){var p=i.childNodes;if(p.length===0)return Promise.resolve(l);return d(l,e.asArray(p),g).then(function(){return l});function d(I,y,M){var D=Promise.resolve();return y.forEach(function(B){D=D.then(function(){return G(B,M)}).then(function(j){j&&I.appendChild(j)})}),D}}function r(i,l){if(!(l instanceof Element))return l;return Promise.resolve().then(g).then(p).then(d).then(I).then(function(){return l});function g(){y(window.getComputedStyle(i),l.style);function y(M,D){M.cssText?D.cssText=M.cssText:B(M,D);function B(j,V){e.asArray(j).forEach(function(b){V.setProperty(b,j.getPropertyValue(b),j.getPropertyPriority(b))})}}}function p(){[":before",":after"].forEach(function(M){y(M)});function y(M){var D=window.getComputedStyle(i,M),B=D.getPropertyValue("content");if(B===""||B==="none")return;var j=e.uid();l.className=l.className+" "+j;var V=document.createElement("style");V.appendChild(b(j,M,D)),l.appendChild(V);function b(T,R,H){var W="."+T+":"+R,Q=H.cssText?N(H):X(H);return document.createTextNode(W+"{"+Q+"}");function N(q){var $=q.getPropertyValue("content");return q.cssText+" content: "+$+";"}function X(q){return e.asArray(q).map($).join("; ")+";";function $(Y){return Y+": "+q.getPropertyValue(Y)+(q.getPropertyPriority(Y)?" !important":"")}}}}}function d(){i instanceof HTMLTextAreaElement&&(l.innerHTML=i.value),i instanceof HTMLInputElement&&l.setAttribute("value",i.value)}function I(){l instanceof SVGElement&&(l.setAttribute("xmlns","http://www.w3.org/2000/svg"),l instanceof SVGRectElement&&["width","height"].forEach(function(y){var M=l.getAttribute(y);M&&l.style.setProperty(y,M)}))}}}function L(C){return a.resolveAll().then(function(h){var A=document.createElement("style");return C.appendChild(A),A.appendChild(document.createTextNode(h)),C})}function P(C){return n.inlineAll(C).then(function(){return C})}function F(C,h,A){return Promise.resolve(C).then(function(s){return s.setAttribute("xmlns","http://www.w3.org/1999/xhtml"),new XMLSerializer().serializeToString(s)}).then(e.escapeXhtml).then(function(s){return'<foreignObject x="0" y="0" width="100%" height="100%">'+s+"</foreignObject>"}).then(function(s){return'<svg xmlns="http://www.w3.org/2000/svg" width="'+h+'" height="'+A+'">'+s+"</svg>"}).then(function(s){return"data:image/svg+xml;charset=utf-8,"+s})}function E(){return{escape:I,parseExtension:h,mimeType:A,dataAsUrl:d,isDataUrl:s,canvasToBlob:r,resolveUrl:i,getAndEncode:p,uid:l(),delay:y,asArray:M,escapeXhtml:D,makeImage:g,width:B,height:j};function C(){var b="application/font-woff",T="image/jpeg";return{woff:b,woff2:b,ttf:"application/font-truetype",eot:"application/vnd.ms-fontobject",png:"image/png",jpg:T,jpeg:T,gif:"image/gif",tiff:"image/tiff",svg:"image/svg+xml"}}function h(b){var T=/\.([^\.\/]*?)$/g.exec(b);return T?T[1]:""}function A(b){var T=h(b).toLowerCase();return C()[T]||""}function s(b){return b.search(/^(data:)/)!==-1}function o(b){return new Promise(function(T){for(var R=window.atob(b.toDataURL().split(",")[1]),H=R.length,W=new Uint8Array(H),Q=0;Q<H;Q++)W[Q]=R.charCodeAt(Q);T(new Blob([W],{type:"image/png"}))})}function r(b){return b.toBlob?new Promise(function(T){b.toBlob(T)}):o(b)}function i(b,T){var R=document.implementation.createHTMLDocument(),H=R.createElement("base");R.head.appendChild(H);var W=R.createElement("a");return R.body.appendChild(W),H.href=T,W.href=b,W.href}function l(){var b=0;return function(){return"u"+T()+b++;function T(){return("0000"+(Math.random()*Math.pow(36,4)<<0).toString(36)).slice(-4)}}}function g(b){return new Promise(function(T,R){var H=new Image;H.onload=function(){T(H)},H.onerror=R,H.src=b})}function p(b){var T=3e4;return u.impl.options.cacheBust&&(b+=(/\?/.test(b)?"&":"?")+new Date().getTime()),new Promise(function(R){var H=new XMLHttpRequest;H.onreadystatechange=N,H.ontimeout=X,H.responseType="blob",H.timeout=T,H.open("GET",b,!0),H.send();var W;if(u.impl.options.imagePlaceholder){var Q=u.impl.options.imagePlaceholder.split(/,/);Q&&Q[1]&&(W=Q[1])}function N(){if(H.readyState===4){if(H.status!==200){W?R(W):q("cannot fetch resource: "+b+", status: "+H.status);return}var $=new FileReader;$.onloadend=function(){var Y=$.result.split(/,/)[1];R(Y)},$.readAsDataURL(H.response)}}function X(){W?R(W):q("timeout of "+T+"ms occured while fetching resource: "+b)}function q($){console.error($),R("")}})}function d(b,T){return"data:"+T+";base64,"+b}function I(b){return b.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1")}function y(b){return function(T){return new Promise(function(R){setTimeout(function(){R(T)},b)})}}function M(b){for(var T=[],R=b.length,H=0;H<R;H++)T.push(b[H]);return T}function D(b){return b.replace(/#/g,"%23").replace(/\n/g,"%0A")}function B(b){var T=V(b,"border-left-width"),R=V(b,"border-right-width");return b.scrollWidth+T+R}function j(b){var T=V(b,"border-top-width"),R=V(b,"border-bottom-width");return b.scrollHeight+T+R}function V(b,T){var R=window.getComputedStyle(b).getPropertyValue(T);return parseFloat(R.replace("px",""))}}function S(){var C=/url\(['"]?([^'"]+?)['"]?\)/g;return{inlineAll:o,shouldProcess:h,impl:{readUrls:A,inline:s}};function h(r){return r.search(C)!==-1}function A(r){for(var i=[],l;(l=C.exec(r))!==null;)i.push(l[1]);return i.filter(function(g){return!e.isDataUrl(g)})}function s(r,i,l,g){return Promise.resolve(i).then(function(d){return l?e.resolveUrl(d,l):d}).then(g||e.getAndEncode).then(function(d){return e.dataAsUrl(d,e.mimeType(i))}).then(function(d){return r.replace(p(i),"$1"+d+"$3")});function p(d){return new RegExp(`(url\\(['"]?)(`+e.escape(d)+`)(['"]?\\))`,"g")}}function o(r,i,l){if(g())return Promise.resolve(r);return Promise.resolve(r).then(A).then(function(p){var d=Promise.resolve(r);return p.forEach(function(I){d=d.then(function(y){return s(y,I,i,l)})}),d});function g(){return!h(r)}}}function x(){return{resolveAll:C,impl:{readAll:h}};function C(){return h(document).then(function(A){return Promise.all(A.map(function(s){return s.resolve()}))}).then(function(A){return A.join(`
`)})}function h(){return Promise.resolve(e.asArray(document.styleSheets)).then(s).then(A).then(function(r){return r.map(o)});function A(r){return r.filter(function(i){return i.type===CSSRule.FONT_FACE_RULE}).filter(function(i){return w.shouldProcess(i.style.getPropertyValue("src"))})}function s(r){var i=[];return r.forEach(function(l){try{e.asArray(l.cssRules||[]).forEach(i.push.bind(i))}catch(g){console.log("Error while reading CSS rules from "+l.href,g.toString())}}),i}function o(r){return{resolve:function(){var l=(r.parentStyleSheet||{}).href;return w.inlineAll(r.cssText,l)},src:function(){return r.style.getPropertyValue("src")}}}}}function m(){return{inlineAll:h,impl:{newImage:C}};function C(A){return{inline:s};function s(o){return e.isDataUrl(A.src)?Promise.resolve():Promise.resolve(A.src).then(o||e.getAndEncode).then(function(r){return e.dataAsUrl(r,e.mimeType(A.src))}).then(function(r){return new Promise(function(i,l){A.onload=i,A.onerror=l,A.src=r})})}}function h(A){if(!(A instanceof Element))return Promise.resolve(A);return s(A).then(function(){return A instanceof HTMLImageElement?C(A).inline():Promise.all(e.asArray(A.childNodes).map(function(o){return h(o)}))});function s(o){var r=o.style.getPropertyValue("background");return r?w.inlineAll(r).then(function(i){o.style.setProperty("background",i,o.style.getPropertyPriority("background"))}).then(function(){return o}):Promise.resolve(o)}}}})(ht)});var ft=we(Ve=>{"use strict";function Rt(t,e,w,c){var n=0,c=c===void 0?{}:c,u=c.loop===void 0?null:c.loop,f=c.palette===void 0?null:c.palette;if(e<=0||w<=0||e>65535||w>65535)throw new Error("Width/Height invalid.");function _(P){var F=P.length;if(F<2||F>256||F&F-1)throw new Error("Invalid code/color length, must be power of 2 and 2 .. 256.");return F}t[n++]=71,t[n++]=73,t[n++]=70,t[n++]=56,t[n++]=57,t[n++]=97;var v=0,k=0;if(f!==null){for(var O=_(f);O>>=1;)++v;if(O=1<<v,--v,c.background!==void 0){if(k=c.background,k>=O)throw new Error("Background index out of range.");if(k===0)throw new Error("Background index explicitly passed as 0.")}}if(t[n++]=e&255,t[n++]=e>>8&255,t[n++]=w&255,t[n++]=w>>8&255,t[n++]=(f!==null?128:0)|v,t[n++]=k,t[n++]=0,f!==null)for(var z=0,U=f.length;z<U;++z){var G=f[z];t[n++]=G>>16&255,t[n++]=G>>8&255,t[n++]=G&255}if(u!==null){if(u<0||u>65535)throw new Error("Loop count invalid.");t[n++]=33,t[n++]=255,t[n++]=11,t[n++]=78,t[n++]=69,t[n++]=84,t[n++]=83,t[n++]=67,t[n++]=65,t[n++]=80,t[n++]=69,t[n++]=50,t[n++]=46,t[n++]=48,t[n++]=3,t[n++]=1,t[n++]=u&255,t[n++]=u>>8&255,t[n++]=0}var L=!1;this.addFrame=function(P,F,E,S,x,m){if(L===!0&&(--n,L=!1),m=m===void 0?{}:m,P<0||F<0||P>65535||F>65535)throw new Error("x/y invalid.");if(E<=0||S<=0||E>65535||S>65535)throw new Error("Width/Height invalid.");if(x.length<E*S)throw new Error("Not enough pixels for the frame size.");var C=!0,h=m.palette;if(h==null&&(C=!1,h=f),h==null)throw new Error("Must supply either a local or global palette.");for(var A=_(h),s=0;A>>=1;)++s;A=1<<s;var o=m.delay===void 0?0:m.delay,r=m.disposal===void 0?0:m.disposal;if(r<0||r>3)throw new Error("Disposal out of range.");var i=!1,l=0;if(m.transparent!==void 0&&m.transparent!==null&&(i=!0,l=m.transparent,l<0||l>=A))throw new Error("Transparent color index.");if((r!==0||i||o!==0)&&(t[n++]=33,t[n++]=249,t[n++]=4,t[n++]=r<<2|(i===!0?1:0),t[n++]=o&255,t[n++]=o>>8&255,t[n++]=l,t[n++]=0),t[n++]=44,t[n++]=P&255,t[n++]=P>>8&255,t[n++]=F&255,t[n++]=F>>8&255,t[n++]=E&255,t[n++]=E>>8&255,t[n++]=S&255,t[n++]=S>>8&255,t[n++]=C===!0?128|s-1:0,C===!0)for(var g=0,p=h.length;g<p;++g){var d=h[g];t[n++]=d>>16&255,t[n++]=d>>8&255,t[n++]=d&255}return n=Ut(t,n,s<2?2:s,x),n},this.end=function(){return L===!1&&(t[n++]=59,L=!0),n},this.getOutputBuffer=function(){return t},this.setOutputBuffer=function(P){t=P},this.getOutputBufferPosition=function(){return n},this.setOutputBufferPosition=function(P){n=P}}function Ut(t,e,w,a){t[e++]=w;var n=e++,c=1<<w,u=c-1,f=c+1,_=f+1,v=w+1,k=0,O=0;function z(m){for(;k>=m;)t[e++]=O&255,O>>=8,k-=8,e===n+256&&(t[n]=255,n=e++)}function U(m){O|=m<<k,k+=v,z(8)}var G=a[0]&u,L={};U(c);for(var P=1,F=a.length;P<F;++P){var E=a[P]&u,S=G<<8|E,x=L[S];if(x===void 0){for(O|=G<<k,k+=v;k>=8;)t[e++]=O&255,O>>=8,k-=8,e===n+256&&(t[n]=255,n=e++);_===4096?(U(c),_=f+1,v=w+1,L={}):(_>=1<<v&&++v,L[S]=_++),G=E}else G=x}return U(G),U(f),z(1),n+1===e?t[n]=0:(t[n]=e-n-1,t[e++]=0),e}function zt(t){var e=0;if(t[e++]!==71||t[e++]!==73||t[e++]!==70||t[e++]!==56||(t[e++]+1&253)!==56||t[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var w=t[e++]|t[e++]<<8,a=t[e++]|t[e++]<<8,n=t[e++],c=n>>7,u=n&7,f=1<<u+1,_=t[e++];t[e++];var v=null,k=null;c&&(v=e,k=f,e+=f*3);var O=!0,z=[],U=0,G=null,L=0,P=null;for(this.width=w,this.height=a;O&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(t[e]!==11||t[e+1]==78&&t[e+2]==69&&t[e+3]==84&&t[e+4]==83&&t[e+5]==67&&t[e+6]==65&&t[e+7]==80&&t[e+8]==69&&t[e+9]==50&&t[e+10]==46&&t[e+11]==48&&t[e+12]==3&&t[e+13]==1&&t[e+16]==0)e+=14,P=t[e++]|t[e++]<<8,e++;else for(e+=12;;){var F=t[e++];if(!(F>=0))throw Error("Invalid block size");if(F===0)break;e+=F}break;case 249:if(t[e++]!==4||t[e+4]!==0)throw new Error("Invalid graphics extension block.");var E=t[e++];U=t[e++]|t[e++]<<8,G=t[e++],E&1||(G=null),L=E>>2&7,e++;break;case 254:for(;;){var F=t[e++];if(!(F>=0))throw Error("Invalid block size");if(F===0)break;e+=F}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var S=t[e++]|t[e++]<<8,x=t[e++]|t[e++]<<8,m=t[e++]|t[e++]<<8,C=t[e++]|t[e++]<<8,h=t[e++],A=h>>7,s=h>>6&1,o=h&7,r=1<<o+1,i=v,l=k,g=!1;if(A){var g=!0;i=e,l=r,e+=r*3}var p=e;for(e++;;){var F=t[e++];if(!(F>=0))throw Error("Invalid block size");if(F===0)break;e+=F}z.push({x:S,y:x,width:m,height:C,has_local_palette:g,palette_offset:i,palette_size:l,data_offset:p,data_length:e-p,transparent_index:G,interlaced:!!s,delay:U,disposal:L});break;case 59:O=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return z.length},this.loopCount=function(){return P},this.frameInfo=function(d){if(d<0||d>=z.length)throw new Error("Frame index out of range.");return z[d]},this.decodeAndBlitFrameBGRA=function(d,I){var y=this.frameInfo(d),M=y.width*y.height,D=new Uint8Array(M);dt(t,y.data_offset,D,M);var B=y.palette_offset,j=y.transparent_index;j===null&&(j=256);var V=y.width,b=w-V,T=V,R=(y.y*w+y.x)*4,H=((y.y+y.height)*w+y.x)*4,W=R,Q=b*4;y.interlaced===!0&&(Q+=w*4*7);for(var N=8,X=0,q=D.length;X<q;++X){var $=D[X];if(T===0&&(W+=Q,T=V,W>=H&&(Q=b*4+w*4*(N-1),W=R+(V+b)*(N<<1),N>>=1)),$===j)W+=4;else{var Y=t[B+$*3],fe=t[B+$*3+1],me=t[B+$*3+2];I[W++]=me,I[W++]=fe,I[W++]=Y,I[W++]=255}--T}},this.decodeAndBlitFrameRGBA=function(d,I){var y=this.frameInfo(d),M=y.width*y.height,D=new Uint8Array(M);dt(t,y.data_offset,D,M);var B=y.palette_offset,j=y.transparent_index;j===null&&(j=256);var V=y.width,b=w-V,T=V,R=(y.y*w+y.x)*4,H=((y.y+y.height)*w+y.x)*4,W=R,Q=b*4;y.interlaced===!0&&(Q+=w*4*7);for(var N=8,X=0,q=D.length;X<q;++X){var $=D[X];if(T===0&&(W+=Q,T=V,W>=H&&(Q=b*4+w*4*(N-1),W=R+(V+b)*(N<<1),N>>=1)),$===j)W+=4;else{var Y=t[B+$*3],fe=t[B+$*3+1],me=t[B+$*3+2];I[W++]=Y,I[W++]=fe,I[W++]=me,I[W++]=255}--T}}}function dt(t,e,w,a){for(var n=t[e++],c=1<<n,u=c+1,f=u+1,_=n+1,v=(1<<_)-1,k=0,O=0,z=0,U=t[e++],G=new Int32Array(4096),L=null;;){for(;k<16&&U!==0;)O|=t[e++]<<k,k+=8,U===1?U=t[e++]:--U;if(k<_)break;var P=O&v;if(O>>=_,k-=_,P===c){f=u+1,_=n+1,v=(1<<_)-1,L=null;continue}else if(P===u)break;for(var F=P<f?P:L,E=0,S=F;S>c;)S=G[S]>>8,++E;var x=S,m=z+E+(F!==P?1:0);if(m>a){console.log("Warning, gif stream longer than expected.");return}w[z++]=x,z+=E;var C=z;for(F!==P&&(w[z++]=x),S=F;E--;)S=G[S],w[--C]=S&255,S>>=8;L!==null&&f<4096&&(G[f++]=L<<8|x,f>=v+1&&_<12&&(++_,v=v<<1|1)),L=P}return z!==a&&console.log("Warning, gif stream shorter than expected."),w}try{Ve.GifWriter=Rt,Ve.GifReader=zt}catch{}});var pt=we((gt,De)=>{"use strict";(function(){function t(s){if(s=s||{},this.method=s.method||2,this.colors=s.colors||256,this.initColors=s.initColors||4096,this.initDist=s.initDist||.01,this.distIncr=s.distIncr||.005,this.hueGroups=s.hueGroups||10,this.satGroups=s.satGroups||10,this.lumGroups=s.lumGroups||10,this.minHueCols=s.minHueCols||0,this.hueStats=this.minHueCols?new e(this.hueGroups,this.minHueCols):null,this.boxSize=s.boxSize||[64,64],this.boxPxls=s.boxPxls||2,this.palLocked=!1,this.dithKern=s.dithKern||null,this.dithSerp=s.dithSerp||!1,this.dithDelta=s.dithDelta||0,this.histogram={},this.idxrgb=s.palette?s.palette.slice(0):[],this.idxi32=[],this.i32idx={},this.i32rgb={},this.useCache=s.useCache!==!1,this.cacheFreq=s.cacheFreq||10,this.reIndex=s.reIndex||this.idxrgb.length==0,this.colorDist=s.colorDist=="manhattan"?z:k,this.idxrgb.length>0){var o=this;this.idxrgb.forEach(function(r,i){var l=(-16777216|r[2]<<16|r[1]<<8|r[0])>>>0;o.idxi32[i]=l,o.i32idx[l]=i,o.i32rgb[l]=r})}}t.prototype.sample=function(o,r){if(this.palLocked)throw"Cannot sample additional images, palette already assembled.";var i=m(o,r);switch(this.method){case 1:this.colorStats1D(i.buf32);break;case 2:this.colorStats2D(i.buf32,i.width);break}},t.prototype.reduce=function(o,r,i,l){if(this.palLocked||this.buildPal(),i=i||this.dithKern,l=typeof l<"u"?l:this.dithSerp,r=r||1,i)var g=this.dither(o,i,l);else for(var p=m(o),d=p.buf32,I=d.length,g=new Uint32Array(I),y=0;y<I;y++){var M=d[y];g[y]=this.nearestColor(M)}if(r==1)return new Uint8Array(g.buffer);if(r==2){for(var D=[],I=g.length,y=0;y<I;y++){var M=g[y];D[y]=this.i32idx[M]}return D}},t.prototype.dither=function(s,o,r){var i={FloydSteinberg:[[.4375,1,0],[.1875,-1,1],[.3125,0,1],[.0625,1,1]],FalseFloydSteinberg:[[.375,1,0],[.375,0,1],[.25,1,1]],Stucki:[[.19047619047619047,1,0],[.09523809523809523,2,0],[.047619047619047616,-2,1],[.09523809523809523,-1,1],[.19047619047619047,0,1],[.09523809523809523,1,1],[.047619047619047616,2,1],[.023809523809523808,-2,2],[.047619047619047616,-1,2],[.09523809523809523,0,2],[.047619047619047616,1,2],[.023809523809523808,2,2]],Atkinson:[[.125,1,0],[.125,2,0],[.125,-1,1],[.125,0,1],[.125,1,1],[.125,0,2]],Jarvis:[[.14583333333333334,1,0],[.10416666666666667,2,0],[.0625,-2,1],[.10416666666666667,-1,1],[.14583333333333334,0,1],[.10416666666666667,1,1],[.0625,2,1],[.020833333333333332,-2,2],[.0625,-1,2],[.10416666666666667,0,2],[.0625,1,2],[.020833333333333332,2,2]],Burkes:[[.25,1,0],[.125,2,0],[.0625,-2,1],[.125,-1,1],[.25,0,1],[.125,1,1],[.0625,2,1]],Sierra:[[.15625,1,0],[.09375,2,0],[.0625,-2,1],[.125,-1,1],[.15625,0,1],[.125,1,1],[.0625,2,1],[.0625,-1,2],[.09375,0,2],[.0625,1,2]],TwoSierra:[[.25,1,0],[.1875,2,0],[.0625,-2,1],[.125,-1,1],[.1875,0,1],[.125,1,1],[.0625,2,1]],SierraLite:[[.5,1,0],[.25,-1,1],[.25,0,1]]};if(!o||!i[o])throw"Unknown dithering kernel: "+o;for(var l=i[o],g=m(s),p=g.buf32,d=g.width,I=g.height,y=p.length,M=r?-1:1,D=0;D<I;D++){r&&(M=M*-1);for(var B=D*d,j=M==1?0:d-1,V=M==1?d:0;j!==V;j+=M){var b=B+j,T=p[b],R=T&255,H=(T&65280)>>8,W=(T&16711680)>>16,Q=this.nearestColor(T),N=Q&255,X=(Q&65280)>>8,q=(Q&16711680)>>16;if(p[b]=255<<24|q<<16|X<<8|N,this.dithDelta){var $=this.colorDist([R,H,W],[N,X,q]);if($<this.dithDelta)continue}for(var Y=R-N,fe=H-X,me=W-q,ge=M==1?0:l.length-1,Ct=M==1?l.length:0;ge!==Ct;ge+=M){var He=l[ge][1]*M,Re=l[ge][2],bt=Re*d;if(He+j>=0&&He+j<d&&Re+D>=0&&Re+D<I){var Ue=l[ge][0],ve=b+(bt+He),_t=p[ve]&255,kt=(p[ve]&65280)>>8,It=(p[ve]&16711680)>>16,Et=Math.max(0,Math.min(255,_t+Y*Ue)),St=Math.max(0,Math.min(255,kt+fe*Ue)),Tt=Math.max(0,Math.min(255,It+me*Ue));p[ve]=255<<24|Tt<<16|St<<8|Et}}}}return p},t.prototype.buildPal=function(o){if(!(this.palLocked||this.idxrgb.length>0&&this.idxrgb.length<=this.colors)){var r=this.histogram,i=A(r,!0);if(i.length==0)throw"Nothing has been sampled, palette cannot be built.";switch(this.method){case 1:for(var l=this.initColors,g=i[l-1],p=r[g],y=i.slice(0,l),d=l,I=i.length;d<I&&r[i[d]]==p;)y.push(i[d++]);this.hueStats&&this.hueStats.inject(y);break;case 2:var y=i;break}y=y.map(function(M){return+M}),this.reducePal(y),!o&&this.reIndex&&this.sortPal(),this.useCache&&this.cacheHistogram(y),this.palLocked=!0}},t.prototype.palette=function(o,r){return this.buildPal(r),o?this.idxrgb:new Uint8Array(new Uint32Array(this.idxi32).buffer)},t.prototype.prunePal=function(o){for(var r,i=0;i<this.idxrgb.length;i++)o[i]||(r=this.idxi32[i],this.idxrgb[i]=null,this.idxi32[i]=null,delete this.i32idx[r]);if(this.reIndex){for(var l=[],g=[],p={},i=0,d=0;i<this.idxrgb.length;i++)this.idxrgb[i]&&(r=this.idxi32[i],l[d]=this.idxrgb[i],p[r]=d,g[d]=r,d++);this.idxrgb=l,this.idxi32=g,this.i32idx=p}},t.prototype.reducePal=function(o){if(this.idxrgb.length>this.colors){for(var r=o.length,i={},l=0,g,p=!1,d=0;d<r;d++)l==this.colors&&!p&&(this.prunePal(i),p=!0),g=this.nearestIndex(o[d]),l<this.colors&&!i[g]&&(i[g]=!0,l++);p||(this.prunePal(i),p=!0)}else{var I=o.map(function(Q){return[Q&255,(Q&65280)>>8,(Q&16711680)>>16]}),r=I.length,y=r,M=this.initDist;if(y>this.colors){for(;y>this.colors;){for(var D=[],d=0;d<r;d++){var B=I[d],j=o[d];if(B)for(var V=d+1;V<r;V++){var b=I[V],T=o[V];if(b){var R=this.colorDist(B,b);R<M&&(D.push([V,b,T,R]),delete I[V],y--)}}}M+=y>this.colors*3?this.initDist:this.distIncr}if(y<this.colors){E.call(D,function(Q,N){return N[3]-Q[3]});for(var H=0;y<this.colors;)I[D[H][0]]=D[H][1],y++,H++}}for(var r=I.length,d=0;d<r;d++)I[d]&&(this.idxrgb.push(I[d]),this.idxi32.push(o[d]),this.i32idx[o[d]]=this.idxi32.length-1,this.i32rgb[o[d]]=I[d])}},t.prototype.colorStats1D=function(o){for(var r=this.histogram,i=0,l,g=o.length,p=0;p<g;p++)l=o[p],(l&4278190080)>>24&&(this.hueStats&&this.hueStats.check(l),l in r?r[l]++:r[l]=1)},t.prototype.colorStats2D=function(o,r){var i=this.boxSize[0],l=this.boxSize[1],g=i*l,p=C(r,o.length/r,i,l),d=this.histogram,I=this;p.forEach(function(y){var M=Math.max(Math.round(y.w*y.h/g)*I.boxPxls,2),D={},B;h(y,r,function(j){B=o[j],(B&4278190080)>>24&&(I.hueStats&&I.hueStats.check(B),B in d?d[B]++:B in D?++D[B]>=M&&(d[B]=D[B]):D[B]=1)})}),this.hueStats&&this.hueStats.inject(d)},t.prototype.sortPal=function(){var o=this;this.idxi32.sort(function(r,i){var l=o.i32idx[r],g=o.i32idx[i],p=o.idxrgb[l],d=o.idxrgb[g],I=U(p[0],p[1],p[2]),y=U(d[0],d[1],d[2]),M=p[0]==p[1]&&p[1]==p[2]?-1:G(I.h,o.hueGroups),D=d[0]==d[1]&&d[1]==d[2]?-1:G(y.h,o.hueGroups),B=D-M;if(B)return-B;var j=+y.l.toFixed(2)-+I.l.toFixed(2);if(j)return-j;var V=+y.s.toFixed(2)-+I.s.toFixed(2);if(V)return-V}),this.idxi32.forEach(function(r,i){o.idxrgb[i]=o.i32rgb[r],o.i32idx[r]=i})},t.prototype.nearestColor=function(o){var r=this.nearestIndex(o);return r===null?0:this.idxi32[r]},t.prototype.nearestIndex=function(o){if(!((o&4278190080)>>24))return null;if(this.useCache&&""+o in this.i32idx)return this.i32idx[o];for(var r=1e3,i,l=[o&255,(o&65280)>>8,(o&16711680)>>16],g=this.idxrgb.length,p=0;p<g;p++)if(this.idxrgb[p]){var d=this.colorDist(l,this.idxrgb[p]);d<r&&(r=d,i=p)}return i},t.prototype.cacheHistogram=function(o){for(var r=0,i=o[r];r<o.length&&this.histogram[i]>=this.cacheFreq;i=o[r++])this.i32idx[i]=this.nearestIndex(i)};function e(s,o){this.numGroups=s,this.minCols=o,this.stats={};for(var r=-1;r<s;r++)this.stats[r]={num:0,cols:[]};this.groupsFull=0}e.prototype.check=function(o){this.groupsFull==this.numGroups+1&&(this.check=function(){});var r=o&255,i=(o&65280)>>8,l=(o&16711680)>>16,g=r==i&&i==l?-1:G(U(r,i,l).h,this.numGroups),p=this.stats[g],d=this.minCols;p.num++,!(p.num>d)&&(p.num==d&&this.groupsFull++,p.num<=d&&this.stats[g].cols.push(o))},e.prototype.inject=function(o){for(var r=-1;r<this.numGroups;r++)if(this.stats[r].num<=this.minCols)switch(F(o)){case"Array":this.stats[r].cols.forEach(function(i){o.indexOf(i)==-1&&o.push(i)});break;case"Object":this.stats[r].cols.forEach(function(i){o[i]?o[i]++:o[i]=1});break}};var w=.2126,a=.7152,n=.0722;function c(s,o,r){return Math.sqrt(w*s*s+a*o*o+n*r*r)}var u=255,f=255,_=255,v=Math.sqrt(w*u*u+a*f*f+n*_*_);function k(s,o){var r=o[0]-s[0],i=o[1]-s[1],l=o[2]-s[2];return Math.sqrt(w*r*r+a*i*i+n*l*l)/v}var O=w*u+a*f+n*_;function z(s,o){var r=Math.abs(o[0]-s[0]),i=Math.abs(o[1]-s[1]),l=Math.abs(o[2]-s[2]);return(w*r+a*i+n*l)/O}function U(s,o,r){var i,l,g,p,d,I;if(s/=255,o/=255,r/=255,i=Math.max(s,o,r),l=Math.min(s,o,r),d=(i+l)/2,i==l)g=p=0;else{switch(I=i-l,p=d>.5?I/(2-i-l):I/(i+l),i){case s:g=(o-r)/I+(o<r?6:0);break;case o:g=(r-s)/I+2;break;case r:g=(s-o)/I+4;break}g/=6}return{h:g,s:p,l:c(s,o,r)}}function G(s,o){var r=1/o,i=r/2;if(s>=1-i||s<=i)return 0;for(var l=1;l<o;l++){var g=l*r;if(s>=g-i&&s<=g+i)return l}}function L(s){return s}function P(s){return s}function F(s){return Object.prototype.toString.call(s).slice(8,-1)}var E=x()?Array.prototype.sort:S;function S(s){var o=F(this[0]);if(o=="Number"||o=="String"){for(var r={},i=this.length,l,g=0;g<i;g++)l=this[g],!(r[l]||r[l]===0)&&(r[l]=g);return this.sort(function(p,d){return s(p,d)||r[p]-r[d]})}else{var r=this.map(function(d){return d});return this.sort(function(d,I){return s(d,I)||r.indexOf(d)-r.indexOf(I)})}}function x(){var s="abcdefghijklmnopqrstuvwxyz";return s.split("").sort(function(o,r){return~~(s.indexOf(r)/2.3)-~~(s.indexOf(o)/2.3)}).join("")=="xyzvwtursopqmnklhijfgdeabc"}function m(s,o){var r,i,l,g,p,d;switch(F(s)){case"HTMLImageElement":r=document.createElement("canvas"),r.width=s.naturalWidth,r.height=s.naturalHeight,i=r.getContext("2d"),i.drawImage(s,0,0);case"Canvas":case"HTMLCanvasElement":r=r||s,i=i||r.getContext("2d");case"CanvasRenderingContext2D":i=i||s,r=r||i.canvas,l=i.getImageData(0,0,r.width,r.height);case"ImageData":l=l||s,o=l.width,F(l.data)=="CanvasPixelArray"?g=new Uint8Array(l.data):g=l.data;case"Array":case"CanvasPixelArray":g=g||new Uint8Array(s);case"Uint8Array":case"Uint8ClampedArray":g=g||s,p=new Uint32Array(g.buffer);case"Uint32Array":p=p||s,g=g||new Uint8Array(p.buffer),o=o||p.length,d=p.length/o}return{can:r,ctx:i,imgd:l,buf8:g,buf32:p,width:o,height:d}}function C(s,o,r,i){for(var l=~~(s/r),g=s%r,p=~~(o/i),d=o%i,I=s-g,y=o-d,M=[],D=0;D<o;D+=i)for(var B=0;B<s;B+=r)M.push({x:B,y:D,w:B==I?g:r,h:D==y?d:i});return M}function h(s,o,r){var i=s,l=i.y*o+i.x,g=(i.y+i.h-1)*o+(i.x+i.w-1),p=0,d=o-i.w+1,I=l;do r.call(this,I),I+=++p%i.w==0?d:1;while(I<=g)}function A(s,o){var r=[];for(var i in s)r.push(i);return E.call(r,function(l,g){return o?s[g]-s[l]:s[l]-s[g]})}this.RgbQuant=t,typeof De<"u"&&De.exports&&(De.exports=t)}).call(gt)});var it=[{title:"HTML - Hello World",code:"<p> Hello World </p>"}];var at=[{title:"JS - Hello World",code:`function display() {
	console.log('hello world'); 
}`}];var ot=["html","javascript"];var Ft={html:it,javascript:at},Xt=(()=>{let e=class e{getRandomExample(a){let n=a==="auto"?this.randomIn(ot):a,c=this.randomIn(Ft[n]);return Qe({},c)}randomIn(a){let n=Math.floor(Math.random()*a.length);return a.at(n)}};e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=de({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Kt=(()=>{let e=class e{constructor(){this.editorThemeByTheme={"blue-light":"androidstudio","blue-dark":"androidstudio","green-light":"atom-one-light","green-dark":"atom-one-dark","red-light":"intellij-light","red-dark":"devibeans","rainbow-light":"gradient-light","rainbow-dark":"gradient-dark"}}editorOf(a,n){return`highlight.js/${this.editorThemeByTheme[`${a}-${n}`]}.css`}};e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=de({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var tn=(()=>{let e=class e{constructor(a){this.router=a}updateQuery(a){this.router.navigate([],{queryParams:a,queryParamsHandling:"merge"})}};e.\u0275fac=function(n){return new(n||e)(qe(nt))},e.\u0275prov=de({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var st=(()=>{let e=class e{constructor(a){this.elementReference=a,this.hasChange=new J}ngAfterViewInit(){this.observer=new MutationObserver(()=>this.hasChange.emit());let a={childList:!0,subtree:!0,characterData:!0};this.observer.observe(this.elementReference.nativeElement,a)}ngOnDestroy(){this.observer.disconnect()}};e.\u0275fac=function(n){return new(n||e)(ye(xe))},e.\u0275dir=Xe({type:e,selectors:[["","hasChange",""]],outputs:{hasChange:"hasChange"},standalone:!0});let t=e;return t})();var Pe=class{get shiftPress(){return this.keyboardEvent.shiftKey}get isTabulation(){return this.key==="Tab"}get isSimpleQuote(){return this.key==="'"}get isDoubleQuote(){return this.key==='"'}get isOpenParenthesis(){return this.key==="("}get isOpenCurlyBracket(){return this.key==="{"}get isOpenBracket(){return this.key==="["}get isOpenChevron(){return this.key==="<"}get isBackspace(){return this.key==="Backspace"}get isDelete(){return this.key==="DELETE"}get value(){return this.key}get key(){return this.keyboardEvent.key}constructor(e){this.keyboardEvent=e}is(e){return this.key===e}preventDefault(){this.keyboardEvent.preventDefault()}};var Ot=t=>({color:t}),lt=(()=>{let e=class e{constructor(){this.editable=!0,this.titleChange=new J}onInputChange(a){this.titleChange.emit(a)}};e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=ne({type:e,selectors:[["app-title-bar"]],inputs:{theme:"theme",barTitle:"barTitle",editable:"editable"},outputs:{titleChange:"titleChange"},standalone:!0,features:[ae],decls:7,vars:5,consts:[[1,"window-state"],[1,"window-action","window-close"],[1,"window-action","window-minimize"],[1,"window-action","window-maximize"],[1,"window-title","no-animation",3,"ngStyle","input"],["snippetTitle",""]],template:function(n,c){if(n&1){let u=be();te(0,"div",0),re(1,"div",1)(2,"div",2)(3,"div",3),K(),te(4,"h2",4,5),ie("input",function(){se(u);let _=pe(5);return le(c.onInputChange(_.innerText))}),he(6),K()}n&2&&(Z(4),ee("ngStyle",ke(3,Ot,c.theme.titleColor)),Je("contenteditable",c.editable),Z(2),_e(" ",c.barTitle,`
`))},dependencies:[oe,Te],styles:["[_nghost-%COMP%]{display:flex;justify-content:space-between;background-color:var(--primary-dark);padding:var(--padding-2) var(--padding-4)}.window-state[_ngcontent-%COMP%]{display:flex;align-items:center;gap:var(--padding-1)}.window-action[_ngcontent-%COMP%]{width:12px;height:12px;border:1px solid black;border-radius:50%}.window-close[_ngcontent-%COMP%]{background-color:red;border-color:brown}.window-minimize[_ngcontent-%COMP%]{background-color:#ff0;border-color:orange}.window-maximize[_ngcontent-%COMP%]{background-color:#32cd32;border-color:green}.window-title[_ngcontent-%COMP%]{overflow:hidden;display:-webkit-box;-webkit-line-clamp:1;line-clamp:1;-webkit-box-orient:vertical;text-overflow:ellipsis;outline:0px solid transparent;margin:0;min-width:20px}"],changeDetection:0});let t=e;return t})();function Lt(t,e){if(t&1){let w=be();te(0,"div",3)(1,"code",4),ie("hasChange",function(){se(w);let n=ce();return le(n.codeTagHasChange())})("highlighted",function(n){se(w);let c=ce();return le(c.onCodeHighlight(n))}),K(),te(2,"textarea",5,6),ie("keydown",function(n){se(w);let c=pe(3),u=ce();return le(u.onKeyDown(c,n))})("input",function(){se(w);let n=pe(3),c=ce();return le(c.onCodeModify(n))}),he(4),K()()}if(t&2){let w=ce();Z(),ee("highlight",w.code),Z(),ee("rows",w.codeRows)("cols",w.windowConfiguration.numberColumn),Z(2),et(w.code)}}function Bt(t,e){if(t&1&&re(0,"code",7),t&2){let w=ce();ee("highlight",w.code)}}var Ht=t=>({width:"64ch","border-radius":t}),ct=(()=>{let e=class e{constructor(){this.barTitle=e.defaultTitle,this.languageDetected=new J,this.domCodeHasChange=new J,this.domTitleHasChange=new J,this.titleChange=new J,this.codeHasChange=new J,this.lastCharacterInsert=void 0}set language(a){this._language=a,this.highlight&&this.updateHighlighLanguage()}set theme(a){this._theme=a,this.tabSize=a.tabSize,this.padding=a.padding,this.background=a.background}get codeRows(){return this.windowConfiguration.numberRow??this.code.split(`
`).length}ngAfterViewInit(){this.updateHighlighLanguage()}updateTitle(a){a===""&&(this.barTitle=a=e.defaultTitle),this.titleChange.emit(a)}codeTagHasChange(){this.domCodeHasChange.next()}titleTagHasChange(){this.domTitleHasChange.next()}onKeyDown(a,n){let c=new Pe(n);this.lastCharacterInsert&&c.is(this.lastCharacterInsert)?(this.moveSelection(a,1),this.lastCharacterInsert=void 0,c.preventDefault()):c.isTabulation?(c.shiftPress?this.onRemoveTabulationOnCurrentLine(a):this.insertCharacterInTextArea(a,"	",1),c.preventDefault()):c.isSimpleQuote?this.insertCharacterInTextArea(a,"'"):c.isDoubleQuote?this.insertCharacterInTextArea(a,'"'):c.isOpenParenthesis?this.insertCharacterInTextArea(a,")"):c.isOpenCurlyBracket?this.insertCharacterInTextArea(a,"}"):c.isOpenBracket?this.insertCharacterInTextArea(a,"}"):c.isBackspace?(this.onRemoveCharacter(a),this.lastCharacterInsert=void 0):this.lastCharacterInsert=void 0}onCodeModify(a){this.codeHasChange.emit({value:a.value,position:a.selectionEnd})}onCodeHighlight(a){a.language&&this.languageDetected.emit(a.language)}insertCharacterInTextArea(a,n,c=0){let{value:u,selectionEnd:f}=a,_=u.substring(0,f),v=u.substring(f);a.value=`${_}${n}${v}`,a.selectionStart=f+c,a.selectionEnd=f+c,this.lastCharacterInsert=n,this.code=a.value,this.onCodeModify(a)}onRemoveCharacter(a){if(!this.lastCharacterInsert)return;let n=a.value[a.selectionEnd-1];this.characterInCodeInsertionList(n)&&this.removeCharacterInTextArea(a,a.selectionEnd),this.code=a.value,this.onCodeModify(a)}removeCharacterInTextArea(a,n){let{value:c,selectionEnd:u}=a,f=c.substring(0,n),_=c.substring(n+1);a.value=`${f}${_}`,a.selectionStart=u,a.selectionEnd=u}onRemoveTabulationOnCurrentLine(a){let{value:n,selectionEnd:c}=a,u=n.split(`
`),f=n.substring(0,c).split(`
`).length;if(!u[f-1].includes("	"))return;u[f-1]=u[f-1].replace("	",""),a.value=u.join(`
`);let v=a.value[c-1]===`
`?0:1;a.selectionStart=c-v,a.selectionEnd=c-v,this.code=a.value,this.onCodeModify(a)}moveSelection(a,n){a.selectionStart=a.selectionStart+n,a.selectionEnd=a.selectionEnd+n}characterInCodeInsertionList(a){return["'",'"',"(","[","{","	"].includes(a)}updateHighlighLanguage(){this.highlight.languages=this._language?[this._language]:Array.from(rt),this.highlight.ngOnChanges({code:{previousValue:"",currentValue:this.code,firstChange:!1,isFirstChange(){return this.firstChange}}})}};e.defaultTitle="Default Title",e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=ne({type:e,selectors:[["app-window"]],viewQuery:function(n,c){if(n&1&&Ee(Ge,5),n&2){let u;Ie(u=Se())&&(c.highlight=u.first)}},hostVars:6,hostBindings:function(n,c){n&2&&Ce("padding",c.padding)("tab-size",c.tabSize)("background",c.background)},inputs:{language:"language",code:"code",windowConfiguration:"windowConfiguration",theme:"theme",barTitle:"barTitle"},outputs:{languageDetected:"languageDetected",domCodeHasChange:"domCodeHasChange",domTitleHasChange:"domTitleHasChange",titleChange:"titleChange",codeHasChange:"codeHasChange"},standalone:!0,features:[ae],decls:4,vars:7,consts:[[1,"window",3,"ngStyle"],[3,"theme","barTitle","editable","titleChange","hasChange"],["class","stack-child code-container"],[1,"stack-child","code-container"],[1,"code",3,"highlight","hasChange","highlighted"],[1,"textarea-code","textarea-fixed",3,"rows","cols","keydown","input"],["textArea",""],[1,"code","code-preview",3,"highlight"]],template:function(n,c){n&1&&(te(0,"div",0)(1,"app-title-bar",1),ie("titleChange",function(f){return c.updateTitle(f)})("hasChange",function(){return c.titleTagHasChange()}),K(),Ke(2,Lt,5,4,"div",2)(3,Bt,1,1),K()),n&2&&(ee("ngStyle",ke(5,Ht,c._theme.borderRadius)),Z(),ee("theme",c._theme)("barTitle",c.barTitle)("editable",c.windowConfiguration.isEditable),Z(),Ye(2,c.windowConfiguration.isEditable?2:3))},dependencies:[lt,st,Ge,oe,Te],styles:[".window[_ngcontent-%COMP%]{display:block;overflow:hidden}.code[_ngcontent-%COMP%], .textarea-code[_ngcontent-%COMP%]{display:inline-block;font-size:var(--font-size, 16px);white-space:pre;text-wrap:wrap;padding:var(--padding-4)}.code-container[_ngcontent-%COMP%]{position:relative;--padding: 16px;--font-size: 16px}.code-container[_ngcontent-%COMP%]   .caret[_ngcontent-%COMP%]{position:absolute;font-size:var(--font-size);top:calc(var(--padding));left:calc(var(--padding) + 2ch);width:1ch;height:calc(var(--font-size) * 1.2);background-color:#f009}.textarea-code[_ngcontent-%COMP%]{outline:0px solid transparent;-webkit-text-fill-color:transparent;background-color:transparent;opacity:.5;border:0}.textarea-fixed[_ngcontent-%COMP%]{resize:none}[_ngcontent-%COMP%]:has(code[ng-reflect-line-numbers=true])   textarea[_ngcontent-%COMP%]{padding-left:calc(var(--code-size) + var(--code-space) + var(--border-size))}.code-preview[_ngcontent-%COMP%]{width:100%}"],changeDetection:0});let t=e;return t})();var wt=ze(ut());var mt=ze(ft()),Me=class{get asBlob(){return new Blob([this.buffer.subarray(0,this.writer.end())],{type:"image/gif"})}constructor({width:e,height:w,numberOfFrames:a,numberIteration:n}){this.width=e,this.height=w,this.buffer=new Uint8Array(e*w*a),this.writer=new mt.GifWriter(this.buffer,e,w,{loop:n})}addFrame(e,w){let a=e.paletteIndex,n=e.pixelList,c={palette:a,delay:(w?.delayInMs??100)/10};this.writer.addFrame(0,0,this.width,this.height,n,c)}};var Fe=class t{static from(e){return new t(e)}constructor(e){this.color=e}toRgb(e=1){if(typeof this.color=="string")throw new Error("Not supported yet for string color");let[w,a,n]=this.color;return{r:Math.floor(w*(1/e))*e,g:Math.floor(a*(1/e))*e,b:Math.floor(n*(1/e))*e}}toUint8(){if(typeof this.color=="string")throw new Error("Not supported yet for string color");let{r:e,g:w,b:a}=this.toRgb(10);return e<<16|w<<8|a<<0}};var vt=ze(pt()),Oe=class{get paletteIndex(){let e=this.rgbQuantizer.palette(!0).map(w=>Fe.from(w).toUint8());return e.length=Math.min(Math.floor(Math.ceil(e.length))**2,256),e}get pixelList(){return this.rgbQuantizer.reduce(this._pixelList,2)}constructor(e,w=256){this.rgbQuantizer=new vt.default({colors:w,useCache:!0,cacheFreq:20}),this.rgbQuantizer.sample(e),this._pixelList=e}};var Le=class t{static generate(e){new t(e).saveAnimation()}constructor(e){this.dom=e.dom,this.animation=e.animation,this.onStart=e.onStart,this.onFinish=e.onFinish,this.loadFrame=e.loadFrame,this.gif=new Me({width:e.width,height:e.height,numberOfFrames:e.animation.numberOfFrame,numberIteration:e.numberIteration}),this.nextFrameLoadedSubscription=e.frameLoaded$.subscribe(()=>this.saveFrame(e.frameOptions))}saveAnimation(){this.animation.hasNoFrame||(this.animation.start(),this.onStart?.(),this.loadNextFrame())}loadNextFrame(){let e=this.animation.nextFrame();if(!e){this.downloadGif(),this.onFinish?.(),this.nextFrameLoadedSubscription.unsubscribe();return}this.loadFrame(e)}saveFrame(e){let w=Ne(wt.default.toPixelData(this.dom)).subscribe(a=>{this.gif.addFrame(new Oe(a),e),this.loadNextFrame(),w.unsubscribe()})}downloadGif(){let e=document.createElement("a");e.href=URL.createObjectURL(this.gif.asBlob),e.download="animation.gif",e.click()}};var xt=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=ne({type:e,selectors:[["app-progress-bar"]],hostVars:6,hostBindings:function(n,c){n&2&&Ce("--color",c.color)("--background-color",c.backgroundColor)("--percent",c.percent)},inputs:{color:"color",backgroundColor:"backgroundColor",percent:"percent"},standalone:!0,features:[ae],decls:1,vars:0,consts:[[1,"loader"]],template:function(n,c){n&1&&re(0,"div",0)},dependencies:[oe],styles:[".loader[_ngcontent-%COMP%]{--prct-size: calc(var(--percent) * 5);width:120px;height:20px;transition:none;border-radius:var(--border-radius-3);background:linear-gradient(var(--color) 50%,rgba(0,0,0,0) 0),linear-gradient(rgba(0,0,0,0) 50%,var(--color) 0),linear-gradient(var(--color) 50%,rgba(0,0,0,0) 0),linear-gradient(rgba(0,0,0,0) 50%,var(--color) 0),linear-gradient(var(--color) 50%,rgba(0,0,0,0) 0),linear-gradient(rgba(0,0,0,0) 50%,var(--color) 0) var(--background-color);background-size:calc(100% / 6 + 1px) 200%;background-repeat:no-repeat;background-position:0% calc((1 - max(min((var(--percent) - 0) / .1666666667,1),0))*100%),20% calc(max(min((var(--percent) - .1666666667) / .1666666667,1),0)*100%),40% calc((1 - max(min((var(--percent) - .3333333333) / .1666666667,1),0))*100%),60% calc(max(min((var(--percent) - .5) / .1666666667,1),0)*100%),80% calc((1 - max(min((var(--percent) - .6666666667) / .1666666667,1),0))*100%),100% calc(max(min((var(--percent) - .8333333333) / .1666666667,1),0)*100%)}"],changeDetection:0});let t=e;return t})();var Gt=["codeContainer"],Kn=(()=>{let e=class e{set codeAnimation(a){this._codeAnimation=a,this.codeConfiguration={numberRow:a.nbMaxRow,numberColumn:64,isEditable:!0,hideTextSelection:!0}}get nbFrame(){return this._codeAnimation.frameList.length}constructor(a){this.changeDetectorReference=a,this.delayInMs=100,this.onRecordFinish=new J,this.title="",this.code="",this.progression=0,this.currentIndex=0,this.codeChangeFromAnimation$=new $e}ngAfterViewInit(){this.saveCodeAnimation()}codeHasChange(){this._codeAnimation.hasStart&&(this.isUpdate.code=!0,this.frameIsLoad())}titleHasChange(){this._codeAnimation.hasStart&&(this.isUpdate.title=!0,this.frameIsLoad())}saveCodeAnimation(){this._codeAnimation.hasNoFrame||Le.generate({animation:this._codeAnimation,width:this.codeContainer.nativeElement.clientWidth,height:this.codeContainer.nativeElement.clientHeight,dom:this.codeContainer.nativeElement,scaleFactor:2,frameLoaded$:this.codeChangeFromAnimation$.asObservable(),numberIteration:this.numberIteration||void 0,frameOptions:{delayInMs:this.delayInMs},loadFrame:a=>{if(this.progression=this._codeAnimation.progression,this.currentIndex=this._codeAnimation.currentIndex,this.changeDetectorReference.detectChanges(),this.isAlreadyLoad(a)){this.codeChangeFromAnimation$.next();return}this.isUpdate={title:a.title===this.title,code:a.code===this.code},this.title=a.title,this.code=a.code,this.changeDetectorReference.detectChanges()},onFinish:()=>{this.codeConfiguration.hideTextSelection=!1,this.changeDetectorReference.detectChanges(),this.onRecordFinish.emit(null)}})}isAlreadyLoad(a){return this.code===a.code&&this.title===a.title}frameIsLoad(){!this.isUpdate.code||!this.isUpdate.title||this.codeChangeFromAnimation$.next()}};e.\u0275fac=function(n){return new(n||e)(ye(Ze))},e.\u0275cmp=ne({type:e,selectors:[["app-code-recorder"]],viewQuery:function(n,c){if(n&1&&Ee(Gt,5,xe),n&2){let u;Ie(u=Se())&&(c.codeContainer=u.first)}},inputs:{language:"language",delayInMs:"delayInMs",numberIteration:"numberIteration",theme:"theme",codeAnimation:"codeAnimation"},outputs:{onRecordFinish:"onRecordFinish"},standalone:!0,features:[ae],decls:8,vars:9,consts:[[1,"stack-child","code-editor"],[1,"no-animation",3,"barTitle","language","code","theme","windowConfiguration","domTitleHasChange","domCodeHasChange"],["codeContainer",""],[1,"spinner"],["color","var(--primary)","backgroundColor","var(--text-background)",3,"percent"]],template:function(n,c){n&1&&(he(0),te(1,"div",0)(2,"app-window",1,2),ie("domTitleHasChange",function(){return c.titleHasChange()})("domCodeHasChange",function(){return c.codeHasChange()}),K(),te(4,"div",3)(5,"p"),he(6),K(),re(7,"app-progress-bar",4),K()()),n&2&&(_e("",c.title,`
`),Z(2),ee("barTitle",c.title)("language",c.language)("code",c.code)("theme",c.theme)("windowConfiguration",c.codeConfiguration),Z(4),tt("Loading (",c.currentIndex+1," / ",c.nbFrame,")"),Z(),ee("percent",c.progression))},dependencies:[oe,ct,xt],styles:[".spinner[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;gap:var(--space-2);color:var(--text-background);background-color:var(--background);width:100%;z-index:1000}"],changeDetection:0});let t=e;return t})();var Be=class{constructor(){this._frameList=[]}get hasNoFrame(){return this._frameList.length<=0}get numberOfFrame(){return this._frameList.length}get hasStart(){return this.currentFrameIndex!==void 0}get currentFrame(){if(this.currentFrameIndex!==void 0)return this._frameList.at(this.currentFrameIndex)}get frameList(){return this._frameList}get currentIndex(){return this.currentFrameIndex??0}get progression(){return(this.currentFrameIndex??0)/(this.numberOfFrame-1)}start(){this.currentFrameIndex=-1}stop(){this.currentFrameIndex=void 0}nextFrame(){if(this.currentFrameIndex===void 0)throw new Error("Can't get next frame");let e=this.currentFrameIndex+1;if(e>=this._frameList.length){this.stop();return}return this.currentFrameIndex=e,this.currentFrame}addFrame(e){this._frameList.push(e)}removeFrame(e){this._frameList.splice(e,1)}copy(){return new this.constructor}};var yt=class t extends Be{get nbMaxRow(){return Math.max(...this._frameList.map(e=>t.nbRowForCode(e.code)))}static nbRowForCode(e){let w=1,a=0;return e.split("").forEach(n=>{n===`
`&&(w++,a=0),a++,a>64&&(w++,a=0)}),w}static fromCode(e,w){let a=new t;return a.addFrame({title:e,code:"",caretPosition:0}),t.splitStringWithGrapheme(w).reduce((n,c,u)=>{let f=n+c;return a.addFrame({title:e,code:f,caretPosition:u+1}),f},""),a}static splitStringWithGrapheme(e){let a=new Intl.Segmenter("en",{granularity:"grapheme"}).segment(e);return Array.from(a,({segment:n})=>n)}};export{At as a,ct as b,Kn as c,yt as d,Xt as e,Kt as f,tn as g};
