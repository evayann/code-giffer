import{$ as qe,Aa as ge,B as ae,Ba as le,Ca as Ye,Da as et,E as Ne,Fa as ce,G as se,Ha as _e,I as $e,K as re,L as ie,Ma as be,Na as ke,Pa as Ee,X as we,Ya as Se,Z as J,_ as xe,_a as he,aa as K,c as Ve,db as tt,e as Qe,ea as Xe,fa as ee,ga as Ze,ib as nt,ja as Je,ka as Ke,lb as Ue,oa as te,pa as Y,qa as ye,ta as Ce,wa as ne,xa as oe}from"./chunk-Z2EWHTV7.js";import{a as We,c as ve,d as He}from"./chunk-VHCA6YAO.js";var It=ve((zt,Ie)=>{"use strict";var ze=function(){var t=String.fromCharCode,e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",w="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$",s={};function r(h,d){if(!s[h]){s[h]={};for(var b=0;b<h.length;b++)s[h][h.charAt(b)]=b}return s[h][d]}var f={compressToBase64:function(h){if(h==null)return"";var d=f._compress(h,6,function(b){return e.charAt(b)});switch(d.length%4){default:case 0:return d;case 1:return d+"===";case 2:return d+"==";case 3:return d+"="}},decompressFromBase64:function(h){return h==null?"":h==""?null:f._decompress(h.length,32,function(d){return r(e,h.charAt(d))})},compressToUTF16:function(h){return h==null?"":f._compress(h,15,function(d){return t(d+32)})+" "},decompressFromUTF16:function(h){return h==null?"":h==""?null:f._decompress(h.length,16384,function(d){return h.charCodeAt(d)-32})},compressToUint8Array:function(h){for(var d=f.compress(h),b=new Uint8Array(d.length*2),v=0,k=d.length;v<k;v++){var D=d.charCodeAt(v);b[v*2]=D>>>8,b[v*2+1]=D%256}return b},decompressFromUint8Array:function(h){if(h==null)return f.decompress(h);for(var d=new Array(h.length/2),b=0,v=d.length;b<v;b++)d[b]=h[b*2]*256+h[b*2+1];var k=[];return d.forEach(function(D){k.push(t(D))}),f.decompress(k.join(""))},compressToEncodedURIComponent:function(h){return h==null?"":f._compress(h,6,function(d){return w.charAt(d)})},decompressFromEncodedURIComponent:function(h){return h==null?"":h==""?null:(h=h.replace(/ /g,"+"),f._decompress(h.length,32,function(d){return r(w,h.charAt(d))}))},compress:function(h){return f._compress(h,16,function(d){return t(d)})},_compress:function(h,d,b){if(h==null)return"";var v,k,D={},z={},U="",G="",L="",M=2,T=3,S=2,I=[],x=0,m=0,C;for(C=0;C<h.length;C+=1)if(U=h.charAt(C),Object.prototype.hasOwnProperty.call(D,U)||(D[U]=T++,z[U]=!0),G=L+U,Object.prototype.hasOwnProperty.call(D,G))L=G;else{if(Object.prototype.hasOwnProperty.call(z,L)){if(L.charCodeAt(0)<256){for(v=0;v<S;v++)x=x<<1,m==d-1?(m=0,I.push(b(x)),x=0):m++;for(k=L.charCodeAt(0),v=0;v<8;v++)x=x<<1|k&1,m==d-1?(m=0,I.push(b(x)),x=0):m++,k=k>>1}else{for(k=1,v=0;v<S;v++)x=x<<1|k,m==d-1?(m=0,I.push(b(x)),x=0):m++,k=0;for(k=L.charCodeAt(0),v=0;v<16;v++)x=x<<1|k&1,m==d-1?(m=0,I.push(b(x)),x=0):m++,k=k>>1}M--,M==0&&(M=Math.pow(2,S),S++),delete z[L]}else for(k=D[L],v=0;v<S;v++)x=x<<1|k&1,m==d-1?(m=0,I.push(b(x)),x=0):m++,k=k>>1;M--,M==0&&(M=Math.pow(2,S),S++),D[G]=T++,L=String(U)}if(L!==""){if(Object.prototype.hasOwnProperty.call(z,L)){if(L.charCodeAt(0)<256){for(v=0;v<S;v++)x=x<<1,m==d-1?(m=0,I.push(b(x)),x=0):m++;for(k=L.charCodeAt(0),v=0;v<8;v++)x=x<<1|k&1,m==d-1?(m=0,I.push(b(x)),x=0):m++,k=k>>1}else{for(k=1,v=0;v<S;v++)x=x<<1|k,m==d-1?(m=0,I.push(b(x)),x=0):m++,k=0;for(k=L.charCodeAt(0),v=0;v<16;v++)x=x<<1|k&1,m==d-1?(m=0,I.push(b(x)),x=0):m++,k=k>>1}M--,M==0&&(M=Math.pow(2,S),S++),delete z[L]}else for(k=D[L],v=0;v<S;v++)x=x<<1|k&1,m==d-1?(m=0,I.push(b(x)),x=0):m++,k=k>>1;M--,M==0&&(M=Math.pow(2,S),S++)}for(k=2,v=0;v<S;v++)x=x<<1|k&1,m==d-1?(m=0,I.push(b(x)),x=0):m++,k=k>>1;for(;;)if(x=x<<1,m==d-1){I.push(b(x));break}else m++;return I.join("")},decompress:function(h){return h==null?"":h==""?null:f._decompress(h.length,32768,function(d){return h.charCodeAt(d)})},_decompress:function(h,d,b){var v=[],k,D=4,z=4,U=3,G="",L=[],M,T,S,I,x,m,C,c={val:b(0),position:d,index:1};for(M=0;M<3;M+=1)v[M]=M;for(S=0,x=Math.pow(2,2),m=1;m!=x;)I=c.val&c.position,c.position>>=1,c.position==0&&(c.position=d,c.val=b(c.index++)),S|=(I>0?1:0)*m,m<<=1;switch(k=S){case 0:for(S=0,x=Math.pow(2,8),m=1;m!=x;)I=c.val&c.position,c.position>>=1,c.position==0&&(c.position=d,c.val=b(c.index++)),S|=(I>0?1:0)*m,m<<=1;C=t(S);break;case 1:for(S=0,x=Math.pow(2,16),m=1;m!=x;)I=c.val&c.position,c.position>>=1,c.position==0&&(c.position=d,c.val=b(c.index++)),S|=(I>0?1:0)*m,m<<=1;C=t(S);break;case 2:return""}for(v[3]=C,T=C,L.push(C);;){if(c.index>h)return"";for(S=0,x=Math.pow(2,U),m=1;m!=x;)I=c.val&c.position,c.position>>=1,c.position==0&&(c.position=d,c.val=b(c.index++)),S|=(I>0?1:0)*m,m<<=1;switch(C=S){case 0:for(S=0,x=Math.pow(2,8),m=1;m!=x;)I=c.val&c.position,c.position>>=1,c.position==0&&(c.position=d,c.val=b(c.index++)),S|=(I>0?1:0)*m,m<<=1;v[z++]=t(S),C=z-1,D--;break;case 1:for(S=0,x=Math.pow(2,16),m=1;m!=x;)I=c.val&c.position,c.position>>=1,c.position==0&&(c.position=d,c.val=b(c.index++)),S|=(I>0?1:0)*m,m<<=1;v[z++]=t(S),C=z-1,D--;break;case 2:return L.join("")}if(D==0&&(D=Math.pow(2,U),U++),v[C])G=v[C];else if(C===z)G=T+T.charAt(0);else return null;L.push(G),v[z++]=T+G.charAt(0),D--,T=G,D==0&&(D=Math.pow(2,U),U++)}}};return f}();typeof define=="function"&&define.amd?define(function(){return ze}):typeof Ie<"u"&&Ie!=null?Ie.exports=ze:typeof angular<"u"&&angular!=null&&angular.module("LZString",[]).factory("LZString",function(){return ze})});var ht=ve((ct,Ge)=>{"use strict";(function(t){"use strict";var e=S(),w=I(),s=x(),r=m(),f={imagePlaceholder:void 0,cacheBust:!1},h={toSvg:d,toPng:v,toJpeg:k,toBlob:D,toPixelData:b,impl:{fontFaces:s,images:r,util:e,inliner:w,options:{}}};typeof Ge<"u"?Ge.exports=h:t.domtoimage=h;function d(C,c){return c=c||{},z(c),Promise.resolve(C).then(function(a){return G(a,c.filter,!0)}).then(L).then(M).then(P).then(function(a){return T(a,c.width||e.width(C),c.height||e.height(C))});function P(a){return c.bgcolor&&(a.style.backgroundColor=c.bgcolor),c.width&&(a.style.width=c.width+"px"),c.height&&(a.style.height=c.height+"px"),c.style&&Object.keys(c.style).forEach(function(o){a.style[o]=c.style[o]}),a}}function b(C,c){return U(C,c||{}).then(function(P){return P.getContext("2d").getImageData(0,0,e.width(C),e.height(C)).data})}function v(C,c){return U(C,c||{}).then(function(P){return P.toDataURL()})}function k(C,c){return c=c||{},U(C,c).then(function(P){return P.toDataURL("image/jpeg",c.quality||1)})}function D(C,c){return U(C,c||{}).then(e.canvasToBlob)}function z(C){typeof C.imagePlaceholder>"u"?h.impl.options.imagePlaceholder=f.imagePlaceholder:h.impl.options.imagePlaceholder=C.imagePlaceholder,typeof C.cacheBust>"u"?h.impl.options.cacheBust=f.cacheBust:h.impl.options.cacheBust=C.cacheBust}function U(C,c){return d(C,c).then(e.makeImage).then(e.delay(100)).then(function(a){var o=P(C);return o.getContext("2d").drawImage(a,0,0),o});function P(a){var o=document.createElement("canvas");if(o.width=c.width||e.width(a),o.height=c.height||e.height(a),c.bgcolor){var n=o.getContext("2d");n.fillStyle=c.bgcolor,n.fillRect(0,0,o.width,o.height)}return o}}function G(C,c,P){if(!P&&c&&!c(C))return Promise.resolve();return Promise.resolve(C).then(a).then(function(i){return o(C,i,c)}).then(function(i){return n(C,i)});function a(i){return i instanceof HTMLCanvasElement?e.makeImage(i.toDataURL()):i.cloneNode(!1)}function o(i,l,g){var p=i.childNodes;if(p.length===0)return Promise.resolve(l);return u(l,e.asArray(p),g).then(function(){return l});function u(E,y,F){var O=Promise.resolve();return y.forEach(function(R){O=O.then(function(){return G(R,F)}).then(function(W){W&&E.appendChild(W)})}),O}}function n(i,l){if(!(l instanceof Element))return l;return Promise.resolve().then(g).then(p).then(u).then(E).then(function(){return l});function g(){y(window.getComputedStyle(i),l.style);function y(F,O){F.cssText?O.cssText=F.cssText:R(F,O);function R(W,V){e.asArray(W).forEach(function(_){V.setProperty(_,W.getPropertyValue(_),W.getPropertyPriority(_))})}}}function p(){[":before",":after"].forEach(function(F){y(F)});function y(F){var O=window.getComputedStyle(i,F),R=O.getPropertyValue("content");if(R===""||R==="none")return;var W=e.uid();l.className=l.className+" "+W;var V=document.createElement("style");V.appendChild(_(W,F,O)),l.appendChild(V);function _(A,H,B){var j="."+A+":"+H,Q=B.cssText?$(B):X(B);return document.createTextNode(j+"{"+Q+"}");function $(q){var N=q.getPropertyValue("content");return q.cssText+" content: "+N+";"}function X(q){return e.asArray(q).map(N).join("; ")+";";function N(Z){return Z+": "+q.getPropertyValue(Z)+(q.getPropertyPriority(Z)?" !important":"")}}}}}function u(){i instanceof HTMLTextAreaElement&&(l.innerHTML=i.value),i instanceof HTMLInputElement&&l.setAttribute("value",i.value)}function E(){l instanceof SVGElement&&(l.setAttribute("xmlns","http://www.w3.org/2000/svg"),l instanceof SVGRectElement&&["width","height"].forEach(function(y){var F=l.getAttribute(y);F&&l.style.setProperty(y,F)}))}}}function L(C){return s.resolveAll().then(function(c){var P=document.createElement("style");return C.appendChild(P),P.appendChild(document.createTextNode(c)),C})}function M(C){return r.inlineAll(C).then(function(){return C})}function T(C,c,P){return Promise.resolve(C).then(function(a){return a.setAttribute("xmlns","http://www.w3.org/1999/xhtml"),new XMLSerializer().serializeToString(a)}).then(e.escapeXhtml).then(function(a){return'<foreignObject x="0" y="0" width="100%" height="100%">'+a+"</foreignObject>"}).then(function(a){return'<svg xmlns="http://www.w3.org/2000/svg" width="'+c+'" height="'+P+'">'+a+"</svg>"}).then(function(a){return"data:image/svg+xml;charset=utf-8,"+a})}function S(){return{escape:E,parseExtension:c,mimeType:P,dataAsUrl:u,isDataUrl:a,canvasToBlob:n,resolveUrl:i,getAndEncode:p,uid:l(),delay:y,asArray:F,escapeXhtml:O,makeImage:g,width:R,height:W};function C(){var _="application/font-woff",A="image/jpeg";return{woff:_,woff2:_,ttf:"application/font-truetype",eot:"application/vnd.ms-fontobject",png:"image/png",jpg:A,jpeg:A,gif:"image/gif",tiff:"image/tiff",svg:"image/svg+xml"}}function c(_){var A=/\.([^\.\/]*?)$/g.exec(_);return A?A[1]:""}function P(_){var A=c(_).toLowerCase();return C()[A]||""}function a(_){return _.search(/^(data:)/)!==-1}function o(_){return new Promise(function(A){for(var H=window.atob(_.toDataURL().split(",")[1]),B=H.length,j=new Uint8Array(B),Q=0;Q<B;Q++)j[Q]=H.charCodeAt(Q);A(new Blob([j],{type:"image/png"}))})}function n(_){return _.toBlob?new Promise(function(A){_.toBlob(A)}):o(_)}function i(_,A){var H=document.implementation.createHTMLDocument(),B=H.createElement("base");H.head.appendChild(B);var j=H.createElement("a");return H.body.appendChild(j),B.href=A,j.href=_,j.href}function l(){var _=0;return function(){return"u"+A()+_++;function A(){return("0000"+(Math.random()*Math.pow(36,4)<<0).toString(36)).slice(-4)}}}function g(_){return new Promise(function(A,H){var B=new Image;B.onload=function(){A(B)},B.onerror=H,B.src=_})}function p(_){var A=3e4;return h.impl.options.cacheBust&&(_+=(/\?/.test(_)?"&":"?")+new Date().getTime()),new Promise(function(H){var B=new XMLHttpRequest;B.onreadystatechange=$,B.ontimeout=X,B.responseType="blob",B.timeout=A,B.open("GET",_,!0),B.send();var j;if(h.impl.options.imagePlaceholder){var Q=h.impl.options.imagePlaceholder.split(/,/);Q&&Q[1]&&(j=Q[1])}function $(){if(B.readyState===4){if(B.status!==200){j?H(j):q("cannot fetch resource: "+_+", status: "+B.status);return}var N=new FileReader;N.onloadend=function(){var Z=N.result.split(/,/)[1];H(Z)},N.readAsDataURL(B.response)}}function X(){j?H(j):q("timeout of "+A+"ms occured while fetching resource: "+_)}function q(N){console.error(N),H("")}})}function u(_,A){return"data:"+A+";base64,"+_}function E(_){return _.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1")}function y(_){return function(A){return new Promise(function(H){setTimeout(function(){H(A)},_)})}}function F(_){for(var A=[],H=_.length,B=0;B<H;B++)A.push(_[B]);return A}function O(_){return _.replace(/#/g,"%23").replace(/\n/g,"%0A")}function R(_){var A=V(_,"border-left-width"),H=V(_,"border-right-width");return _.scrollWidth+A+H}function W(_){var A=V(_,"border-top-width"),H=V(_,"border-bottom-width");return _.scrollHeight+A+H}function V(_,A){var H=window.getComputedStyle(_).getPropertyValue(A);return parseFloat(H.replace("px",""))}}function I(){var C=/url\(['"]?([^'"]+?)['"]?\)/g;return{inlineAll:o,shouldProcess:c,impl:{readUrls:P,inline:a}};function c(n){return n.search(C)!==-1}function P(n){for(var i=[],l;(l=C.exec(n))!==null;)i.push(l[1]);return i.filter(function(g){return!e.isDataUrl(g)})}function a(n,i,l,g){return Promise.resolve(i).then(function(u){return l?e.resolveUrl(u,l):u}).then(g||e.getAndEncode).then(function(u){return e.dataAsUrl(u,e.mimeType(i))}).then(function(u){return n.replace(p(i),"$1"+u+"$3")});function p(u){return new RegExp(`(url\\(['"]?)(`+e.escape(u)+`)(['"]?\\))`,"g")}}function o(n,i,l){if(g())return Promise.resolve(n);return Promise.resolve(n).then(P).then(function(p){var u=Promise.resolve(n);return p.forEach(function(E){u=u.then(function(y){return a(y,E,i,l)})}),u});function g(){return!c(n)}}}function x(){return{resolveAll:C,impl:{readAll:c}};function C(){return c(document).then(function(P){return Promise.all(P.map(function(a){return a.resolve()}))}).then(function(P){return P.join(`
`)})}function c(){return Promise.resolve(e.asArray(document.styleSheets)).then(a).then(P).then(function(n){return n.map(o)});function P(n){return n.filter(function(i){return i.type===CSSRule.FONT_FACE_RULE}).filter(function(i){return w.shouldProcess(i.style.getPropertyValue("src"))})}function a(n){var i=[];return n.forEach(function(l){try{e.asArray(l.cssRules||[]).forEach(i.push.bind(i))}catch(g){console.log("Error while reading CSS rules from "+l.href,g.toString())}}),i}function o(n){return{resolve:function(){var l=(n.parentStyleSheet||{}).href;return w.inlineAll(n.cssText,l)},src:function(){return n.style.getPropertyValue("src")}}}}}function m(){return{inlineAll:c,impl:{newImage:C}};function C(P){return{inline:a};function a(o){return e.isDataUrl(P.src)?Promise.resolve():Promise.resolve(P.src).then(o||e.getAndEncode).then(function(n){return e.dataAsUrl(n,e.mimeType(P.src))}).then(function(n){return new Promise(function(i,l){P.onload=i,P.onerror=l,P.src=n})})}}function c(P){if(!(P instanceof Element))return Promise.resolve(P);return a(P).then(function(){return P instanceof HTMLImageElement?C(P).inline():Promise.all(e.asArray(P.childNodes).map(function(o){return c(o)}))});function a(o){var n=o.style.getPropertyValue("background");return n?w.inlineAll(n).then(function(i){o.style.setProperty("background",i,o.style.getPropertyPriority("background"))}).then(function(){return o}):Promise.resolve(o)}}}})(ct)});var ft=ve(je=>{"use strict";function Rt(t,e,w,f){var r=0,f=f===void 0?{}:f,h=f.loop===void 0?null:f.loop,d=f.palette===void 0?null:f.palette;if(e<=0||w<=0||e>65535||w>65535)throw new Error("Width/Height invalid.");function b(M){var T=M.length;if(T<2||T>256||T&T-1)throw new Error("Invalid code/color length, must be power of 2 and 2 .. 256.");return T}t[r++]=71,t[r++]=73,t[r++]=70,t[r++]=56,t[r++]=57,t[r++]=97;var v=0,k=0;if(d!==null){for(var D=b(d);D>>=1;)++v;if(D=1<<v,--v,f.background!==void 0){if(k=f.background,k>=D)throw new Error("Background index out of range.");if(k===0)throw new Error("Background index explicitly passed as 0.")}}if(t[r++]=e&255,t[r++]=e>>8&255,t[r++]=w&255,t[r++]=w>>8&255,t[r++]=(d!==null?128:0)|v,t[r++]=k,t[r++]=0,d!==null)for(var z=0,U=d.length;z<U;++z){var G=d[z];t[r++]=G>>16&255,t[r++]=G>>8&255,t[r++]=G&255}if(h!==null){if(h<0||h>65535)throw new Error("Loop count invalid.");t[r++]=33,t[r++]=255,t[r++]=11,t[r++]=78,t[r++]=69,t[r++]=84,t[r++]=83,t[r++]=67,t[r++]=65,t[r++]=80,t[r++]=69,t[r++]=50,t[r++]=46,t[r++]=48,t[r++]=3,t[r++]=1,t[r++]=h&255,t[r++]=h>>8&255,t[r++]=0}var L=!1;this.addFrame=function(M,T,S,I,x,m){if(L===!0&&(--r,L=!1),m=m===void 0?{}:m,M<0||T<0||M>65535||T>65535)throw new Error("x/y invalid.");if(S<=0||I<=0||S>65535||I>65535)throw new Error("Width/Height invalid.");if(x.length<S*I)throw new Error("Not enough pixels for the frame size.");var C=!0,c=m.palette;if(c==null&&(C=!1,c=d),c==null)throw new Error("Must supply either a local or global palette.");for(var P=b(c),a=0;P>>=1;)++a;P=1<<a;var o=m.delay===void 0?0:m.delay,n=m.disposal===void 0?0:m.disposal;if(n<0||n>3)throw new Error("Disposal out of range.");var i=!1,l=0;if(m.transparent!==void 0&&m.transparent!==null&&(i=!0,l=m.transparent,l<0||l>=P))throw new Error("Transparent color index.");if((n!==0||i||o!==0)&&(t[r++]=33,t[r++]=249,t[r++]=4,t[r++]=n<<2|(i===!0?1:0),t[r++]=o&255,t[r++]=o>>8&255,t[r++]=l,t[r++]=0),t[r++]=44,t[r++]=M&255,t[r++]=M>>8&255,t[r++]=T&255,t[r++]=T>>8&255,t[r++]=S&255,t[r++]=S>>8&255,t[r++]=I&255,t[r++]=I>>8&255,t[r++]=C===!0?128|a-1:0,C===!0)for(var g=0,p=c.length;g<p;++g){var u=c[g];t[r++]=u>>16&255,t[r++]=u>>8&255,t[r++]=u&255}return r=Bt(t,r,a<2?2:a,x),r},this.end=function(){return L===!1&&(t[r++]=59,L=!0),r},this.getOutputBuffer=function(){return t},this.setOutputBuffer=function(M){t=M},this.getOutputBufferPosition=function(){return r},this.setOutputBufferPosition=function(M){r=M}}function Bt(t,e,w,s){t[e++]=w;var r=e++,f=1<<w,h=f-1,d=f+1,b=d+1,v=w+1,k=0,D=0;function z(m){for(;k>=m;)t[e++]=D&255,D>>=8,k-=8,e===r+256&&(t[r]=255,r=e++)}function U(m){D|=m<<k,k+=v,z(8)}var G=s[0]&h,L={};U(f);for(var M=1,T=s.length;M<T;++M){var S=s[M]&h,I=G<<8|S,x=L[I];if(x===void 0){for(D|=G<<k,k+=v;k>=8;)t[e++]=D&255,D>>=8,k-=8,e===r+256&&(t[r]=255,r=e++);b===4096?(U(f),b=d+1,v=w+1,L={}):(b>=1<<v&&++v,L[I]=b++),G=S}else G=x}return U(G),U(d),z(1),r+1===e?t[r]=0:(t[r]=e-r-1,t[e++]=0),e}function Ht(t){var e=0;if(t[e++]!==71||t[e++]!==73||t[e++]!==70||t[e++]!==56||(t[e++]+1&253)!==56||t[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var w=t[e++]|t[e++]<<8,s=t[e++]|t[e++]<<8,r=t[e++],f=r>>7,h=r&7,d=1<<h+1,b=t[e++];t[e++];var v=null,k=null;f&&(v=e,k=d,e+=d*3);var D=!0,z=[],U=0,G=null,L=0,M=null;for(this.width=w,this.height=s;D&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(t[e]!==11||t[e+1]==78&&t[e+2]==69&&t[e+3]==84&&t[e+4]==83&&t[e+5]==67&&t[e+6]==65&&t[e+7]==80&&t[e+8]==69&&t[e+9]==50&&t[e+10]==46&&t[e+11]==48&&t[e+12]==3&&t[e+13]==1&&t[e+16]==0)e+=14,M=t[e++]|t[e++]<<8,e++;else for(e+=12;;){var T=t[e++];if(!(T>=0))throw Error("Invalid block size");if(T===0)break;e+=T}break;case 249:if(t[e++]!==4||t[e+4]!==0)throw new Error("Invalid graphics extension block.");var S=t[e++];U=t[e++]|t[e++]<<8,G=t[e++],S&1||(G=null),L=S>>2&7,e++;break;case 254:for(;;){var T=t[e++];if(!(T>=0))throw Error("Invalid block size");if(T===0)break;e+=T}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var I=t[e++]|t[e++]<<8,x=t[e++]|t[e++]<<8,m=t[e++]|t[e++]<<8,C=t[e++]|t[e++]<<8,c=t[e++],P=c>>7,a=c>>6&1,o=c&7,n=1<<o+1,i=v,l=k,g=!1;if(P){var g=!0;i=e,l=n,e+=n*3}var p=e;for(e++;;){var T=t[e++];if(!(T>=0))throw Error("Invalid block size");if(T===0)break;e+=T}z.push({x:I,y:x,width:m,height:C,has_local_palette:g,palette_offset:i,palette_size:l,data_offset:p,data_length:e-p,transparent_index:G,interlaced:!!a,delay:U,disposal:L});break;case 59:D=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return z.length},this.loopCount=function(){return M},this.frameInfo=function(u){if(u<0||u>=z.length)throw new Error("Frame index out of range.");return z[u]},this.decodeAndBlitFrameBGRA=function(u,E){var y=this.frameInfo(u),F=y.width*y.height,O=new Uint8Array(F);ut(t,y.data_offset,O,F);var R=y.palette_offset,W=y.transparent_index;W===null&&(W=256);var V=y.width,_=w-V,A=V,H=(y.y*w+y.x)*4,B=((y.y+y.height)*w+y.x)*4,j=H,Q=_*4;y.interlaced===!0&&(Q+=w*4*7);for(var $=8,X=0,q=O.length;X<q;++X){var N=O[X];if(A===0&&(j+=Q,A=V,j>=B&&(Q=_*4+w*4*($-1),j=H+(V+_)*($<<1),$>>=1)),N===W)j+=4;else{var Z=t[R+N*3],fe=t[R+N*3+1],de=t[R+N*3+2];E[j++]=de,E[j++]=fe,E[j++]=Z,E[j++]=255}--A}},this.decodeAndBlitFrameRGBA=function(u,E){var y=this.frameInfo(u),F=y.width*y.height,O=new Uint8Array(F);ut(t,y.data_offset,O,F);var R=y.palette_offset,W=y.transparent_index;W===null&&(W=256);var V=y.width,_=w-V,A=V,H=(y.y*w+y.x)*4,B=((y.y+y.height)*w+y.x)*4,j=H,Q=_*4;y.interlaced===!0&&(Q+=w*4*7);for(var $=8,X=0,q=O.length;X<q;++X){var N=O[X];if(A===0&&(j+=Q,A=V,j>=B&&(Q=_*4+w*4*($-1),j=H+(V+_)*($<<1),$>>=1)),N===W)j+=4;else{var Z=t[R+N*3],fe=t[R+N*3+1],de=t[R+N*3+2];E[j++]=Z,E[j++]=fe,E[j++]=de,E[j++]=255}--A}}}function ut(t,e,w,s){for(var r=t[e++],f=1<<r,h=f+1,d=h+1,b=r+1,v=(1<<b)-1,k=0,D=0,z=0,U=t[e++],G=new Int32Array(4096),L=null;;){for(;k<16&&U!==0;)D|=t[e++]<<k,k+=8,U===1?U=t[e++]:--U;if(k<b)break;var M=D&v;if(D>>=b,k-=b,M===f){d=h+1,b=r+1,v=(1<<b)-1,L=null;continue}else if(M===h)break;for(var T=M<d?M:L,S=0,I=T;I>f;)I=G[I]>>8,++S;var x=I,m=z+S+(T!==M?1:0);if(m>s){console.log("Warning, gif stream longer than expected.");return}w[z++]=x,z+=S;var C=z;for(T!==M&&(w[z++]=x),I=T;S--;)I=G[I],w[--C]=I&255,I>>=8;L!==null&&d<4096&&(G[d++]=L<<8|x,d>=v+1&&b<12&&(++b,v=v<<1|1)),L=M}return z!==s&&console.log("Warning, gif stream shorter than expected."),w}try{je.GifWriter=Rt,je.GifReader=Ht}catch{}});var gt=ve((mt,Fe)=>{"use strict";(function(){function t(a){if(a=a||{},this.method=a.method||2,this.colors=a.colors||256,this.initColors=a.initColors||4096,this.initDist=a.initDist||.01,this.distIncr=a.distIncr||.005,this.hueGroups=a.hueGroups||10,this.satGroups=a.satGroups||10,this.lumGroups=a.lumGroups||10,this.minHueCols=a.minHueCols||0,this.hueStats=this.minHueCols?new e(this.hueGroups,this.minHueCols):null,this.boxSize=a.boxSize||[64,64],this.boxPxls=a.boxPxls||2,this.palLocked=!1,this.dithKern=a.dithKern||null,this.dithSerp=a.dithSerp||!1,this.dithDelta=a.dithDelta||0,this.histogram={},this.idxrgb=a.palette?a.palette.slice(0):[],this.idxi32=[],this.i32idx={},this.i32rgb={},this.useCache=a.useCache!==!1,this.cacheFreq=a.cacheFreq||10,this.reIndex=a.reIndex||this.idxrgb.length==0,this.colorDist=a.colorDist=="manhattan"?z:k,this.idxrgb.length>0){var o=this;this.idxrgb.forEach(function(n,i){var l=(-16777216|n[2]<<16|n[1]<<8|n[0])>>>0;o.idxi32[i]=l,o.i32idx[l]=i,o.i32rgb[l]=n})}}t.prototype.sample=function(o,n){if(this.palLocked)throw"Cannot sample additional images, palette already assembled.";var i=m(o,n);switch(this.method){case 1:this.colorStats1D(i.buf32);break;case 2:this.colorStats2D(i.buf32,i.width);break}},t.prototype.reduce=function(o,n,i,l){if(this.palLocked||this.buildPal(),i=i||this.dithKern,l=typeof l<"u"?l:this.dithSerp,n=n||1,i)var g=this.dither(o,i,l);else for(var p=m(o),u=p.buf32,E=u.length,g=new Uint32Array(E),y=0;y<E;y++){var F=u[y];g[y]=this.nearestColor(F)}if(n==1)return new Uint8Array(g.buffer);if(n==2){for(var O=[],E=g.length,y=0;y<E;y++){var F=g[y];O[y]=this.i32idx[F]}return O}},t.prototype.dither=function(a,o,n){var i={FloydSteinberg:[[.4375,1,0],[.1875,-1,1],[.3125,0,1],[.0625,1,1]],FalseFloydSteinberg:[[.375,1,0],[.375,0,1],[.25,1,1]],Stucki:[[.19047619047619047,1,0],[.09523809523809523,2,0],[.047619047619047616,-2,1],[.09523809523809523,-1,1],[.19047619047619047,0,1],[.09523809523809523,1,1],[.047619047619047616,2,1],[.023809523809523808,-2,2],[.047619047619047616,-1,2],[.09523809523809523,0,2],[.047619047619047616,1,2],[.023809523809523808,2,2]],Atkinson:[[.125,1,0],[.125,2,0],[.125,-1,1],[.125,0,1],[.125,1,1],[.125,0,2]],Jarvis:[[.14583333333333334,1,0],[.10416666666666667,2,0],[.0625,-2,1],[.10416666666666667,-1,1],[.14583333333333334,0,1],[.10416666666666667,1,1],[.0625,2,1],[.020833333333333332,-2,2],[.0625,-1,2],[.10416666666666667,0,2],[.0625,1,2],[.020833333333333332,2,2]],Burkes:[[.25,1,0],[.125,2,0],[.0625,-2,1],[.125,-1,1],[.25,0,1],[.125,1,1],[.0625,2,1]],Sierra:[[.15625,1,0],[.09375,2,0],[.0625,-2,1],[.125,-1,1],[.15625,0,1],[.125,1,1],[.0625,2,1],[.0625,-1,2],[.09375,0,2],[.0625,1,2]],TwoSierra:[[.25,1,0],[.1875,2,0],[.0625,-2,1],[.125,-1,1],[.1875,0,1],[.125,1,1],[.0625,2,1]],SierraLite:[[.5,1,0],[.25,-1,1],[.25,0,1]]};if(!o||!i[o])throw"Unknown dithering kernel: "+o;for(var l=i[o],g=m(a),p=g.buf32,u=g.width,E=g.height,y=p.length,F=n?-1:1,O=0;O<E;O++){n&&(F=F*-1);for(var R=O*u,W=F==1?0:u-1,V=F==1?u:0;W!==V;W+=F){var _=R+W,A=p[_],H=A&255,B=(A&65280)>>8,j=(A&16711680)>>16,Q=this.nearestColor(A),$=Q&255,X=(Q&65280)>>8,q=(Q&16711680)>>16;if(p[_]=255<<24|q<<16|X<<8|$,this.dithDelta){var N=this.colorDist([H,B,j],[$,X,q]);if(N<this.dithDelta)continue}for(var Z=H-$,fe=B-X,de=j-q,me=F==1?0:l.length-1,xt=F==1?l.length:0;me!==xt;me+=F){var Le=l[me][1]*F,Re=l[me][2],yt=Re*u;if(Le+W>=0&&Le+W<u&&Re+O>=0&&Re+O<E){var Be=l[me][0],pe=_+(yt+Le),Ct=p[pe]&255,_t=(p[pe]&65280)>>8,bt=(p[pe]&16711680)>>16,kt=Math.max(0,Math.min(255,Ct+Z*Be)),Et=Math.max(0,Math.min(255,_t+fe*Be)),St=Math.max(0,Math.min(255,bt+de*Be));p[pe]=255<<24|St<<16|Et<<8|kt}}}}return p},t.prototype.buildPal=function(o){if(!(this.palLocked||this.idxrgb.length>0&&this.idxrgb.length<=this.colors)){var n=this.histogram,i=P(n,!0);if(i.length==0)throw"Nothing has been sampled, palette cannot be built.";switch(this.method){case 1:for(var l=this.initColors,g=i[l-1],p=n[g],y=i.slice(0,l),u=l,E=i.length;u<E&&n[i[u]]==p;)y.push(i[u++]);this.hueStats&&this.hueStats.inject(y);break;case 2:var y=i;break}y=y.map(function(F){return+F}),this.reducePal(y),!o&&this.reIndex&&this.sortPal(),this.useCache&&this.cacheHistogram(y),this.palLocked=!0}},t.prototype.palette=function(o,n){return this.buildPal(n),o?this.idxrgb:new Uint8Array(new Uint32Array(this.idxi32).buffer)},t.prototype.prunePal=function(o){for(var n,i=0;i<this.idxrgb.length;i++)o[i]||(n=this.idxi32[i],this.idxrgb[i]=null,this.idxi32[i]=null,delete this.i32idx[n]);if(this.reIndex){for(var l=[],g=[],p={},i=0,u=0;i<this.idxrgb.length;i++)this.idxrgb[i]&&(n=this.idxi32[i],l[u]=this.idxrgb[i],p[n]=u,g[u]=n,u++);this.idxrgb=l,this.idxi32=g,this.i32idx=p}},t.prototype.reducePal=function(o){if(this.idxrgb.length>this.colors){for(var n=o.length,i={},l=0,g,p=!1,u=0;u<n;u++)l==this.colors&&!p&&(this.prunePal(i),p=!0),g=this.nearestIndex(o[u]),l<this.colors&&!i[g]&&(i[g]=!0,l++);p||(this.prunePal(i),p=!0)}else{var E=o.map(function(Q){return[Q&255,(Q&65280)>>8,(Q&16711680)>>16]}),n=E.length,y=n,F=this.initDist;if(y>this.colors){for(;y>this.colors;){for(var O=[],u=0;u<n;u++){var R=E[u],W=o[u];if(R)for(var V=u+1;V<n;V++){var _=E[V],A=o[V];if(_){var H=this.colorDist(R,_);H<F&&(O.push([V,_,A,H]),delete E[V],y--)}}}F+=y>this.colors*3?this.initDist:this.distIncr}if(y<this.colors){S.call(O,function(Q,$){return $[3]-Q[3]});for(var B=0;y<this.colors;)E[O[B][0]]=O[B][1],y++,B++}}for(var n=E.length,u=0;u<n;u++)E[u]&&(this.idxrgb.push(E[u]),this.idxi32.push(o[u]),this.i32idx[o[u]]=this.idxi32.length-1,this.i32rgb[o[u]]=E[u])}},t.prototype.colorStats1D=function(o){for(var n=this.histogram,i=0,l,g=o.length,p=0;p<g;p++)l=o[p],(l&4278190080)>>24&&(this.hueStats&&this.hueStats.check(l),l in n?n[l]++:n[l]=1)},t.prototype.colorStats2D=function(o,n){var i=this.boxSize[0],l=this.boxSize[1],g=i*l,p=C(n,o.length/n,i,l),u=this.histogram,E=this;p.forEach(function(y){var F=Math.max(Math.round(y.w*y.h/g)*E.boxPxls,2),O={},R;c(y,n,function(W){R=o[W],(R&4278190080)>>24&&(E.hueStats&&E.hueStats.check(R),R in u?u[R]++:R in O?++O[R]>=F&&(u[R]=O[R]):O[R]=1)})}),this.hueStats&&this.hueStats.inject(u)},t.prototype.sortPal=function(){var o=this;this.idxi32.sort(function(n,i){var l=o.i32idx[n],g=o.i32idx[i],p=o.idxrgb[l],u=o.idxrgb[g],E=U(p[0],p[1],p[2]),y=U(u[0],u[1],u[2]),F=p[0]==p[1]&&p[1]==p[2]?-1:G(E.h,o.hueGroups),O=u[0]==u[1]&&u[1]==u[2]?-1:G(y.h,o.hueGroups),R=O-F;if(R)return-R;var W=+y.l.toFixed(2)-+E.l.toFixed(2);if(W)return-W;var V=+y.s.toFixed(2)-+E.s.toFixed(2);if(V)return-V}),this.idxi32.forEach(function(n,i){o.idxrgb[i]=o.i32rgb[n],o.i32idx[n]=i})},t.prototype.nearestColor=function(o){var n=this.nearestIndex(o);return n===null?0:this.idxi32[n]},t.prototype.nearestIndex=function(o){if(!((o&4278190080)>>24))return null;if(this.useCache&&""+o in this.i32idx)return this.i32idx[o];for(var n=1e3,i,l=[o&255,(o&65280)>>8,(o&16711680)>>16],g=this.idxrgb.length,p=0;p<g;p++)if(this.idxrgb[p]){var u=this.colorDist(l,this.idxrgb[p]);u<n&&(n=u,i=p)}return i},t.prototype.cacheHistogram=function(o){for(var n=0,i=o[n];n<o.length&&this.histogram[i]>=this.cacheFreq;i=o[n++])this.i32idx[i]=this.nearestIndex(i)};function e(a,o){this.numGroups=a,this.minCols=o,this.stats={};for(var n=-1;n<a;n++)this.stats[n]={num:0,cols:[]};this.groupsFull=0}e.prototype.check=function(o){this.groupsFull==this.numGroups+1&&(this.check=function(){});var n=o&255,i=(o&65280)>>8,l=(o&16711680)>>16,g=n==i&&i==l?-1:G(U(n,i,l).h,this.numGroups),p=this.stats[g],u=this.minCols;p.num++,!(p.num>u)&&(p.num==u&&this.groupsFull++,p.num<=u&&this.stats[g].cols.push(o))},e.prototype.inject=function(o){for(var n=-1;n<this.numGroups;n++)if(this.stats[n].num<=this.minCols)switch(T(o)){case"Array":this.stats[n].cols.forEach(function(i){o.indexOf(i)==-1&&o.push(i)});break;case"Object":this.stats[n].cols.forEach(function(i){o[i]?o[i]++:o[i]=1});break}};var w=.2126,s=.7152,r=.0722;function f(a,o,n){return Math.sqrt(w*a*a+s*o*o+r*n*n)}var h=255,d=255,b=255,v=Math.sqrt(w*h*h+s*d*d+r*b*b);function k(a,o){var n=o[0]-a[0],i=o[1]-a[1],l=o[2]-a[2];return Math.sqrt(w*n*n+s*i*i+r*l*l)/v}var D=w*h+s*d+r*b;function z(a,o){var n=Math.abs(o[0]-a[0]),i=Math.abs(o[1]-a[1]),l=Math.abs(o[2]-a[2]);return(w*n+s*i+r*l)/D}function U(a,o,n){var i,l,g,p,u,E;if(a/=255,o/=255,n/=255,i=Math.max(a,o,n),l=Math.min(a,o,n),u=(i+l)/2,i==l)g=p=0;else{switch(E=i-l,p=u>.5?E/(2-i-l):E/(i+l),i){case a:g=(o-n)/E+(o<n?6:0);break;case o:g=(n-a)/E+2;break;case n:g=(a-o)/E+4;break}g/=6}return{h:g,s:p,l:f(a,o,n)}}function G(a,o){var n=1/o,i=n/2;if(a>=1-i||a<=i)return 0;for(var l=1;l<o;l++){var g=l*n;if(a>=g-i&&a<=g+i)return l}}function L(a){return a}function M(a){return a}function T(a){return Object.prototype.toString.call(a).slice(8,-1)}var S=x()?Array.prototype.sort:I;function I(a){var o=T(this[0]);if(o=="Number"||o=="String"){for(var n={},i=this.length,l,g=0;g<i;g++)l=this[g],!(n[l]||n[l]===0)&&(n[l]=g);return this.sort(function(p,u){return a(p,u)||n[p]-n[u]})}else{var n=this.map(function(u){return u});return this.sort(function(u,E){return a(u,E)||n.indexOf(u)-n.indexOf(E)})}}function x(){var a="abcdefghijklmnopqrstuvwxyz";return a.split("").sort(function(o,n){return~~(a.indexOf(n)/2.3)-~~(a.indexOf(o)/2.3)}).join("")=="xyzvwtursopqmnklhijfgdeabc"}function m(a,o){var n,i,l,g,p,u;switch(T(a)){case"HTMLImageElement":n=document.createElement("canvas"),n.width=a.naturalWidth,n.height=a.naturalHeight,i=n.getContext("2d"),i.drawImage(a,0,0);case"Canvas":case"HTMLCanvasElement":n=n||a,i=i||n.getContext("2d");case"CanvasRenderingContext2D":i=i||a,n=n||i.canvas,l=i.getImageData(0,0,n.width,n.height);case"ImageData":l=l||a,o=l.width,T(l.data)=="CanvasPixelArray"?g=new Uint8Array(l.data):g=l.data;case"Array":case"CanvasPixelArray":g=g||new Uint8Array(a);case"Uint8Array":case"Uint8ClampedArray":g=g||a,p=new Uint32Array(g.buffer);case"Uint32Array":p=p||a,g=g||new Uint8Array(p.buffer),o=o||p.length,u=p.length/o}return{can:n,ctx:i,imgd:l,buf8:g,buf32:p,width:o,height:u}}function C(a,o,n,i){for(var l=~~(a/n),g=a%n,p=~~(o/i),u=o%i,E=a-g,y=o-u,F=[],O=0;O<o;O+=i)for(var R=0;R<a;R+=n)F.push({x:R,y:O,w:R==E?g:n,h:O==y?u:i});return F}function c(a,o,n){var i=a,l=i.y*o+i.x,g=(i.y+i.h-1)*o+(i.x+i.w-1),p=0,u=o-i.w+1,E=l;do n.call(this,E),E+=++p%i.w==0?u:1;while(E<=g)}function P(a,o){var n=[];for(var i in a)n.push(i);return S.call(n,function(l,g){return o?a[g]-a[l]:a[l]-a[g]})}this.RgbQuant=t,typeof Fe<"u"&&Fe.exports&&(Fe.exports=t)}).call(mt)});var rt=[{title:"HTML - Hello World",code:"<p> Hello World </p>"}];var it=[{title:"JS - Hello World",code:`function display() {
	console.log('hello world'); 
}`}];var ot=["html","javascript"];var Mt={html:rt,javascript:it},$t=(()=>{let e=class e{getRandomExample(s){let r=s==="auto"?this.randomIn(ot):s,f=this.randomIn(Mt[r]);return We({},f)}randomIn(s){let r=Math.floor(Math.random()*s.length);return s.at(r)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=ae({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Zt=(()=>{let e=class e{constructor(){this.editorThemeByTheme={"blue-light":"androidstudio","blue-dark":"androidstudio","green-light":"atom-one-light","green-dark":"atom-one-dark","red-light":"intellij-light","red-dark":"devibeans","rainbow-light":"gradient-light","rainbow-dark":"gradient-dark"}}editorOf(s,r){return`highlight.js/${this.editorThemeByTheme[`${s}-${r}`]}.css`}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=ae({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Yt=(()=>{let e=class e{constructor(s){this.router=s}updateQuery(s){this.router.navigate([],{queryParams:s,queryParamsHandling:"merge"})}};e.\u0275fac=function(r){return new(r||e)(Ne(tt))},e.\u0275prov=ae({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var at=(()=>{let e=class e{constructor(s){this.elementReference=s,this.hasChange=new K}ngAfterViewInit(){this.observer=new MutationObserver(()=>this.hasChange.emit());let s={childList:!0,subtree:!0};this.observer.observe(this.elementReference.nativeElement,s)}ngOnDestroy(){this.observer.disconnect()}};e.\u0275fac=function(r){return new(r||e)(xe(we))},e.\u0275dir=$e({type:e,selectors:[["","hasChange",""]],outputs:{hasChange:"hasChange"},standalone:!0});let t=e;return t})();var Ae=class{get shiftPress(){return this.keyboardEvent.shiftKey}get isTabulation(){return this.key==="Tab"}get isSimpleQuote(){return this.key==="'"}get isDoubleQuote(){return this.key==='"'}get isOpenParenthesis(){return this.key==="("}get isOpenCurlyBracket(){return this.key==="{"}get isOpenBracket(){return this.key==="["}get isOpenChevron(){return this.key==="<"}get isBackspace(){return this.key==="Backspace"}get isDelete(){return this.key==="DELETE"}get value(){return this.key}get key(){return this.keyboardEvent.key}constructor(e){this.keyboardEvent=e}is(e){return this.key===e}preventDefault(){this.keyboardEvent.preventDefault()}};var Tt=t=>({color:t}),st=(()=>{let e=class e{constructor(){this.editable=!0,this.titleChange=new K}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=se({type:e,selectors:[["app-title-bar"]],inputs:{theme:"theme",title:"title",editable:"editable"},outputs:{titleChange:"titleChange"},standalone:!0,features:[ce],decls:7,vars:5,consts:[[1,"window-state"],[1,"window-action","window-close"],[1,"window-action","window-minimize"],[1,"window-action","window-maximize"],[1,"window-title","no-animation",3,"ngStyle","input"],["snippetTitle",""]],template:function(r,f){if(r&1){let h=Ce();te(0,"div",0),ye(1,"div",1)(2,"div",2)(3,"div",3),Y(),te(4,"h2",4,5),ne("input",function(){re(h);let b=ge(5);return ie(f.titleChange.emit(b.innerText))}),le(6),Y()}r&2&&(J(4),ee("ngStyle",_e(3,Tt,f.theme.titleColor)),Xe("contenteditable",f.editable),J(2),et(" ",f.title,`
`))},dependencies:[he,Se],styles:["[_nghost-%COMP%]{display:flex;justify-content:space-between;background-color:var(--primary-dark);padding:var(--padding-2) var(--padding-4)}.window-state[_ngcontent-%COMP%]{display:flex;align-items:center;gap:var(--padding-1)}.window-action[_ngcontent-%COMP%]{width:12px;height:12px;border:1px solid black;border-radius:50%}.window-close[_ngcontent-%COMP%]{background-color:red;border-color:brown}.window-minimize[_ngcontent-%COMP%]{background-color:#ff0;border-color:orange}.window-maximize[_ngcontent-%COMP%]{background-color:#32cd32;border-color:green}.window-title[_ngcontent-%COMP%]{overflow:hidden;display:-webkit-box;-webkit-line-clamp:1;line-clamp:1;-webkit-box-orient:vertical;text-overflow:ellipsis;outline:0px solid transparent;margin:0;min-width:20px}"],changeDetection:0});let t=e;return t})();function Ot(t,e){if(t&1){let w=Ce();te(0,"div",3)(1,"code",4),ne("hasChange",function(){re(w);let r=oe();return ie(r.codeTagHasChange())})("highlighted",function(r){re(w);let f=oe();return ie(f.onCodeHighlight(r))}),Y(),te(2,"textarea",5,6),ne("keydown",function(r){re(w);let f=ge(3),h=oe();return ie(h.onKeyDown(f,r))})("input",function(){re(w);let r=ge(3),f=oe();return ie(f.onCodeModify(r))}),le(4),Y()()}if(t&2){let w=oe();J(),ee("highlight",w.code),J(),ee("rows",w.codeRows)("cols",w.windowConfiguration.numberColumn),J(2),Ye(w.code)}}function Dt(t,e){if(t&1&&ye(0,"code",7),t&2){let w=oe();ee("highlight",w.code)}}var Lt=t=>({width:"64ch","border-radius":t}),lt=(()=>{let e=class e{constructor(){this.title=e.defaultTitle,this.languageDetected=new K,this.domHasChange=new K,this.titleChange=new K,this.codeHasChange=new K,this.lastCharacterInsert=void 0}set language(s){this._language=s,this.highlight&&this.updateHighlighLanguage()}set theme(s){this._theme=s,this.tabSize=s.tabSize,this.padding=s.padding,this.background=s.background}get codeRows(){return this.windowConfiguration.numberRow??this.code.split(`
`).length}ngAfterViewInit(){this.updateHighlighLanguage()}updateTitle(s){s===""&&(this.title=s=e.defaultTitle),this.titleChange.emit(s)}codeTagHasChange(){this.domHasChange.next()}onKeyDown(s,r){let f=new Ae(r);this.lastCharacterInsert&&f.is(this.lastCharacterInsert)?(this.moveSelection(s,1),this.lastCharacterInsert=void 0,f.preventDefault()):f.isTabulation?(f.shiftPress?this.onRemoveTabulationOnCurrentLine(s):this.insertCharacterInTextArea(s,"	",1),f.preventDefault()):f.isSimpleQuote?this.insertCharacterInTextArea(s,"'"):f.isDoubleQuote?this.insertCharacterInTextArea(s,'"'):f.isOpenParenthesis?this.insertCharacterInTextArea(s,")"):f.isOpenCurlyBracket?this.insertCharacterInTextArea(s,"}"):f.isOpenBracket?this.insertCharacterInTextArea(s,"}"):f.isBackspace?(this.onRemoveCharacter(s),this.lastCharacterInsert=void 0):this.lastCharacterInsert=void 0}onCodeModify(s){this.codeHasChange.emit({value:s.value,position:s.selectionEnd})}onCodeHighlight(s){s.language&&this.languageDetected.emit(s.language)}insertCharacterInTextArea(s,r,f=0){let{value:h,selectionEnd:d}=s,b=h.substring(0,d),v=h.substring(d);s.value=`${b}${r}${v}`,s.selectionStart=d+f,s.selectionEnd=d+f,this.lastCharacterInsert=r,this.code=s.value,this.onCodeModify(s)}onRemoveCharacter(s){if(!this.lastCharacterInsert)return;let r=s.value[s.selectionEnd-1];this.characterInCodeInsertionList(r)&&this.removeCharacterInTextArea(s,s.selectionEnd),this.code=s.value,this.onCodeModify(s)}removeCharacterInTextArea(s,r){let{value:f,selectionEnd:h}=s,d=f.substring(0,r),b=f.substring(r+1);s.value=`${d}${b}`,s.selectionStart=h,s.selectionEnd=h}onRemoveTabulationOnCurrentLine(s){let{value:r,selectionEnd:f}=s,h=r.split(`
`),d=r.substring(0,f).split(`
`).length;if(!h[d-1].includes("	"))return;h[d-1]=h[d-1].replace("	",""),s.value=h.join(`
`);let v=s.value[f-1]===`
`?0:1;s.selectionStart=f-v,s.selectionEnd=f-v,this.code=s.value,this.onCodeModify(s)}moveSelection(s,r){s.selectionStart=s.selectionStart+r,s.selectionEnd=s.selectionEnd+r}characterInCodeInsertionList(s){return["'",'"',"(","[","{","	"].includes(s)}updateHighlighLanguage(){this.highlight.languages=this._language?[this._language]:Array.from(nt),this.highlight.ngOnChanges({code:{previousValue:"",currentValue:this.code,firstChange:!1,isFirstChange(){return this.firstChange}}})}};e.defaultTitle="Default Title",e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=se({type:e,selectors:[["app-window"]],viewQuery:function(r,f){if(r&1&&ke(Ue,5),r&2){let h;be(h=Ee())&&(f.highlight=h.first)}},hostVars:6,hostBindings:function(r,f){r&2&&Ze("padding",f.padding)("tab-size",f.tabSize)("background",f.background)},inputs:{language:"language",code:"code",windowConfiguration:"windowConfiguration",theme:"theme",title:"title"},outputs:{languageDetected:"languageDetected",domHasChange:"domHasChange",titleChange:"titleChange",codeHasChange:"codeHasChange"},standalone:!0,features:[ce],decls:4,vars:7,consts:[[1,"window",3,"ngStyle"],[3,"theme","title","editable","titleChange"],["class","stack-child code-container"],[1,"stack-child","code-container"],[1,"code",3,"highlight","hasChange","highlighted"],[1,"textarea-code","textarea-fixed",3,"rows","cols","keydown","input"],["textArea",""],[1,"code","code-preview",3,"highlight"]],template:function(r,f){r&1&&(te(0,"div",0)(1,"app-title-bar",1),ne("titleChange",function(d){return f.updateTitle(d)}),Y(),Je(2,Ot,5,4,"div",2)(3,Dt,1,1),Y()),r&2&&(ee("ngStyle",_e(5,Lt,f._theme.borderRadius)),J(),ee("theme",f._theme)("title",f.title)("editable",f.windowConfiguration.isEditable),J(),Ke(2,f.windowConfiguration.isEditable?2:3))},dependencies:[st,at,Ue,he,Se],styles:[".window[_ngcontent-%COMP%]{display:block;overflow:hidden}.code[_ngcontent-%COMP%], .textarea-code[_ngcontent-%COMP%]{display:inline-block;font-size:var(--font-size, 16px);white-space:pre;text-wrap:wrap;padding:var(--padding-4)}.code-container[_ngcontent-%COMP%]{position:relative;--padding: 16px;--font-size: 16px}.code-container[_ngcontent-%COMP%]   .caret[_ngcontent-%COMP%]{position:absolute;font-size:var(--font-size);top:calc(var(--padding));left:calc(var(--padding) + 2ch);width:1ch;height:calc(var(--font-size) * 1.2);background-color:#f009}.textarea-code[_ngcontent-%COMP%]{outline:0px solid transparent;-webkit-text-fill-color:transparent;background-color:transparent;opacity:.5;border:0}.textarea-fixed[_ngcontent-%COMP%]{resize:none}[_ngcontent-%COMP%]:has(code[ng-reflect-line-numbers=true])   textarea[_ngcontent-%COMP%]{padding-left:calc(var(--code-size) + var(--code-space) + var(--border-size))}.code-preview[_ngcontent-%COMP%]{width:100%}"],changeDetection:0});let t=e;return t})();var vt=He(ht());var dt=He(ft()),Pe=class{get asBlob(){return new Blob([this.buffer.subarray(0,this.writer.end())],{type:"image/gif"})}constructor({width:e,height:w,numberOfFrames:s}){this.width=e,this.height=w,this.buffer=new Uint8Array(e*w*s),this.writer=new dt.GifWriter(this.buffer,e,w,{loop:void 0})}addFrame(e,w){let s=e.paletteIndex,r=e.pixelList,f={palette:s,delay:(w?.delayInMs??100)/10};this.writer.addFrame(0,0,this.width,this.height,r,f)}};var Me=class t{static from(e){return new t(e)}constructor(e){this.color=e}toRgb(e=1){if(typeof this.color=="string")throw new Error("Not supported yet for string color");let[w,s,r]=this.color;return{r:Math.floor(w*(1/e))*e,g:Math.floor(s*(1/e))*e,b:Math.floor(r*(1/e))*e}}toUint8(){if(typeof this.color=="string")throw new Error("Not supported yet for string color");let{r:e,g:w,b:s}=this.toRgb(10);return e<<16|w<<8|s<<0}};var pt=He(gt()),Te=class{get paletteIndex(){let e=this.rgbQuantizer.palette(!0).map(w=>Me.from(w).toUint8());return e.length=Math.min(Math.floor(Math.ceil(e.length))**2,256),e}get pixelList(){return this.rgbQuantizer.reduce(this._pixelList,2)}constructor(e,w=256){this.rgbQuantizer=new pt.default({colors:w,useCache:!0,cacheFreq:20}),this.rgbQuantizer.sample(e),this._pixelList=e}};var Oe=class t{static generate(e){new t(e).saveAnimation()}constructor(e){this.dom=e.dom,this.animation=e.animation,this.onStart=e.onStart,this.onFinish=e.onFinish,this.loadFrame=e.loadFrame,this.gif=new Pe({width:e.width,height:e.height,numberOfFrames:e.animation.numberOfFrame}),this.nextFrameLoadedSubscription=e.frameLoaded.subscribe(()=>this.saveFrame(e.frameOptions))}saveAnimation(){this.animation.hasNoFrame||(this.animation.start(),this.onStart?.(),this.loadNextFrame())}loadNextFrame(){let e=this.animation.nextFrame();if(!e){this.downloadGif(),this.onFinish?.(),this.nextFrameLoadedSubscription.unsubscribe();return}this.loadFrame(e)}saveFrame(e){let w=Qe(vt.default.toPixelData(this.dom)).subscribe(s=>{this.gif.addFrame(new Te(s),e),this.loadNextFrame(),w.unsubscribe()})}downloadGif(){let e=document.createElement("a");e.href=URL.createObjectURL(this.gif.asBlob),e.download="animation.gif",e.click()}};var Ut=["codeContainer"],$n=(()=>{let e=class e{set codeAnimation(s){this._codeAnimation=s,this.codeConfiguration={numberRow:s.nbMaxRow,numberColumn:64,isEditable:!0,hideTextSelection:!0}}constructor(s){this.changeDetectorReference=s,this.delayInMs=100,this.onRecordFinish=new K,this.code="",this.codeChangeFromAnimation$=new Ve}ngAfterViewInit(){this.saveCodeAnimation()}domHasChange(){this._codeAnimation.hasStart&&this.codeChangeFromAnimation$.next()}saveCodeAnimation(){this._codeAnimation.hasNoFrame||Oe.generate({animation:this._codeAnimation,width:this.codeContainer.nativeElement.clientWidth,height:this.codeContainer.nativeElement.clientHeight,dom:this.codeContainer.nativeElement,scaleFactor:2,frameLoaded:this.codeChangeFromAnimation$.asObservable(),frameOptions:{delayInMs:this.delayInMs},loadFrame:s=>{if(this.isAlreadyLoad(s)){this.codeChangeFromAnimation$.next();return}this.code=s.code,this.changeDetectorReference.detectChanges()},onFinish:()=>{this.codeConfiguration.hideTextSelection=!1,this.changeDetectorReference.detectChanges(),this.onRecordFinish.emit(null)}})}isAlreadyLoad(s){return this.code===s.code}};e.\u0275fac=function(r){return new(r||e)(xe(qe))},e.\u0275cmp=se({type:e,selectors:[["app-code-recorder"]],viewQuery:function(r,f){if(r&1&&ke(Ut,5,we),r&2){let h;be(h=Ee())&&(f.codeContainer=h.first)}},inputs:{title:"title",language:"language",delayInMs:"delayInMs",theme:"theme",codeAnimation:"codeAnimation"},outputs:{onRecordFinish:"onRecordFinish"},standalone:!0,features:[ce],decls:5,vars:5,consts:[[1,"stack-child","code-editor"],[1,"no-animation",3,"title","language","code","theme","windowConfiguration","domHasChange"],["codeContainer",""],[1,"spinner"]],template:function(r,f){r&1&&(te(0,"div",0)(1,"app-window",1,2),ne("domHasChange",function(){return f.domHasChange()}),Y(),te(3,"p",3),le(4,"Render frames"),Y()()),r&2&&(J(),ee("title",f.title)("language",f.language)("code",f.code)("theme",f.theme)("windowConfiguration",f.codeConfiguration))},dependencies:[he,lt],styles:[".spinner[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;color:var(--text-background);background-color:var(--background);width:100%;z-index:1000}"],changeDetection:0});let t=e;return t})();var De=class{constructor(){this._frameList=[]}get hasNoFrame(){return this._frameList.length<=0}get numberOfFrame(){return this._frameList.length}get hasStart(){return this.currentFrameIndex!==void 0}get currentFrame(){if(this.currentFrameIndex!==void 0)return this._frameList.at(this.currentFrameIndex)}get frameList(){return this._frameList}start(){this.currentFrameIndex=-1}stop(){this.currentFrameIndex=void 0}nextFrame(){if(this.currentFrameIndex===void 0)throw new Error("Can't get next frame");let e=this.currentFrameIndex+1;if(e>=this._frameList.length){this.stop();return}return this.currentFrameIndex=e,this.currentFrame}addFrame(e){this._frameList.push(e)}removeFrame(e){this._frameList.splice(e,1)}copy(){return new this.constructor}};var wt=class t extends De{get nbMaxRow(){return Math.max(...this._frameList.map(e=>t.nbRowForCode(e.code)))}static nbRowForCode(e){let w=1,s=0;return e.split("").forEach(r=>{r===`
`&&(w++,s=0),s++,s>64&&(w++,s=0)}),w}static fromCode(e,w){let s=new t,r="";s.addFrame({title:e,code:r,caretPosition:0});for(let f=0;f<w.length;f++)r+=w.charAt(f),s.addFrame({title:e,code:r,caretPosition:f+1});return s}};export{It as a,lt as b,$n as c,wt as d,$t as e,Zt as f,Yt as g};
