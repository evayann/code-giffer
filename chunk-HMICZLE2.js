import"./chunk-M4WIDBPR.js";import{a as L,b as M,c as R,d as A,e as D,f as V,g as j}from"./chunk-TICX3OWE.js";import{$ as x,Ba as F,G as g,Ga as f,K as s,L as c,Z as S,_ as l,_a as w,a as y,aa as T,da as b,fa as C,ja as E,ka as v,lb as H,oa as u,pa as m,ta as _,wa as p,xa as a}from"./chunk-UMZHEPYP.js";import{d as P}from"./chunk-VHCA6YAO.js";var d=P(L());function k(r,o){if(r&1){let i=_();u(0,"app-window",1),p("codeHasChange",function(t){s(i);let n=a();return c(n.updateCode(t.value))})("titleChange",function(t){s(i);let n=a();return c(n.updateTitle(t))})("languageDetected",function(t){s(i);let n=a();return c(n.updateLanguage(t))}),m()}if(r&2){let i=a();C("code",i.code)("barTitle",i.title)("theme",i.theme)("language",i.languageSelected)("windowConfiguration",i.codeConfiguration)}}function Q(r,o){if(r&1){let i=_();u(0,"app-code-recorder",2),p("onRecordFinish",function(){s(i);let t=a();return c(t.finishRecord())}),m()}if(r&2){let i=a(),e;C("delayInMs",i.delayInMs)("theme",i.theme)("numberIteration",i.numberIteration)("language",(e=i.languageSelected)!==null&&e!==void 0?e:i.language)("codeAnimation",i.codeAnimation)}}function B(r,o){if(r&1){let i=_();u(0,"button",3),p("click",function(){s(i);let t=a();return c(t.startRecord())}),F(1,"Animate my snippet !"),m()}}var O=(()=>{let o=class o{constructor(){this.codeHasChange=new T,this.titleHasChange=new T,this.title="Snippet title",this.code="",this.isRecording=!1,this.codeConfiguration={numberColumn:64,isEditable:!0,hideTextSelection:!1}}set initialCode(e){this.title=e.title,this.code=e.code}updateCode(e){this.code=e,this.codeHasChange.emit(e)}updateTitle(e){this.titleHasChange.emit(e)}updateLanguage(e){this.language=e}startRecord(){this.codeAnimation=A.fromCode(this.title,this.code),this.isRecording=!0}finishRecord(){this.isRecording=!1}};o.\u0275fac=function(t){return new(t||o)},o.\u0275cmp=g({type:o,selectors:[["app-auto-code-editor"]],inputs:{delayInMs:"delayInMs",numberIteration:"numberIteration",theme:"theme",languageSelected:"languageSelected",initialCode:"initialCode"},outputs:{codeHasChange:"codeHasChange",titleHasChange:"titleHasChange"},standalone:!0,features:[f],decls:3,vars:2,consts:[[3,"code","barTitle","theme","language","windowConfiguration"],[3,"code","barTitle","theme","language","windowConfiguration","codeHasChange","titleChange","languageDetected"],[3,"delayInMs","theme","numberIteration","language","codeAnimation","onRecordFinish"],[3,"click"]],template:function(t,n){t&1&&E(0,k,1,5,"app-window",0)(1,Q,1,5)(2,B,2,0,"button"),t&2&&(v(0,n.isRecording?1:0),S(2),v(2,n.isRecording?-1:2))},dependencies:[w,M,R],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:var(--space-3)}"],changeDetection:0});let r=o;return r})();var se=(()=>{let o=class o{set menuForm(e){this._menuForm=e,this.subscriptions.add(e?.valueChanges.subscribe(()=>{this.updateEditorTheme(),this.changeDetectorRef.detectChanges()}))}constructor(e,t,n,I,h){this.hljsLoader=e,this.placeholderCodeService=t,this.changeDetectorRef=n,this.codeEditorThemeService=I,this.urlService=h,this.subscriptions=new y}ngOnInit(){if(this.updateEditorTheme(),this.title===""&&this.code===""){this.initialCode=this.placeholderCodeService.getRandomExample("auto"),this.urlService.updateQuery({code:(0,d.compressToBase64)(this.initialCode.code),title:(0,d.compressToBase64)(this.initialCode.title)});return}this.initialCode={title:this.title,code:this.code}}ngOnDestroy(){this.subscriptions.unsubscribe()}updateCodeInUrl(e){this.urlService.updateQuery({code:(0,d.compressToBase64)(e)})}updateTitleInUrl(e){this.urlService.updateQuery({title:(0,d.compressToBase64)(e)})}updateEditorTheme(){this.hljsLoader.setTheme(this.codeEditorThemeService.editorOf(this._menuForm.themeName,this._menuForm.variant))}};o.\u0275fac=function(t){return new(t||o)(l(H),l(D),l(x),l(V),l(j))},o.\u0275cmp=g({type:o,selectors:[["app-auto-code-to-gif-page"]],inputs:{title:["title","title",e=>(0,d.decompressFromBase64)(e)],code:["code","code",e=>(0,d.decompressFromBase64)(e)],menuForm:"menuForm"},standalone:!0,features:[b,f],decls:1,vars:5,consts:[[3,"delayInMs","theme","languageSelected","numberIteration","initialCode","codeHasChange","titleHasChange"]],template:function(t,n){t&1&&(u(0,"app-auto-code-editor",0),p("codeHasChange",function(h){return n.updateCodeInUrl(h)})("titleHasChange",function(h){return n.updateTitleInUrl(h)}),m()),t&2&&C("delayInMs",n._menuForm.delayInMs)("theme",n._menuForm.theme)("languageSelected",n._menuForm.language)("numberIteration",n._menuForm.numberIteration)("initialCode",n.initialCode)},dependencies:[w,O],styles:["[_nghost-%COMP%]{display:flex;align-items:center;justify-content:center}app-auto-code-editor[_ngcontent-%COMP%]{padding:calc(var(--space-5) * 2) 0}"],changeDetection:0});let r=o;return r})();export{se as AutoCodeToGifPageComponent};
