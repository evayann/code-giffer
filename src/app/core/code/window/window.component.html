<div class="window" [ngStyle]="{ width: '64ch' }">
    <app-title-bar [theme]="_theme" />
    @if(windowConfiguration.isEditable) {
    <div class="stack-child code-container">
        <code class="code" [highlight]="code" [languages]="['auto', 'xml', 'javascript', 'typescript']"
            [lineNumbers]="false" (hasChange)="codeTagHasChange()"></code>

        <textarea #textArea class="textarea-code textarea-fixed p-1" [rows]="windowConfiguration.numberRow"
            [cols]="windowConfiguration.numberColumn" (keydown)="onKeyDown(textArea, $event)"
            (input)="onCodeModify(textArea)" [ngStyle]="{'caret-color': _theme.caretColor}">{{code}}</textarea>

        <!-- <span class="caret"></span> -->
    </div>
    }
    @else {
    <code class="code" [highlight]="code" [languages]="['auto', 'xml', 'javascript', 'typescript']"
        [lineNumbers]="false"></code>
    }
</div>