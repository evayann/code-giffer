import{a as Q,b as re,c as ae}from"./chunk-WK6GIMHL.js";import{Aa as Z,Ca as S,Da as T,Fa as B,J as L,Ka as j,O as P,Q as E,Qa as ee,Ra as te,Sa as ne,U as D,V as O,e as G,ea as J,eb as ie,ga as K,ha as H,ib as b,ja as U,ka as k,na as X,pa as I,qb as oe,sa as Y,ta as N,xa as A,ya as M}from"./chunk-7AAV5TZ3.js";import{a as V,b as $,c as he,d as ge}from"./chunk-VHCA6YAO.js";var se=he((Re,W)=>{"use strict";var z=function(){var f=String.fromCharCode,l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",C="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$",e={};function a(t,o){if(!e[t]){e[t]={};for(var u=0;u<t.length;u++)e[t][t.charAt(u)]=u}return e[t][o]}var s={compressToBase64:function(t){if(t==null)return"";var o=s._compress(t,6,function(u){return l.charAt(u)});switch(o.length%4){default:case 0:return o;case 1:return o+"===";case 2:return o+"==";case 3:return o+"="}},decompressFromBase64:function(t){return t==null?"":t==""?null:s._decompress(t.length,32,function(o){return a(l,t.charAt(o))})},compressToUTF16:function(t){return t==null?"":s._compress(t,15,function(o){return f(o+32)})+" "},decompressFromUTF16:function(t){return t==null?"":t==""?null:s._decompress(t.length,16384,function(o){return t.charCodeAt(o)-32})},compressToUint8Array:function(t){for(var o=s.compress(t),u=new Uint8Array(o.length*2),r=0,c=o.length;r<c;r++){var g=o.charCodeAt(r);u[r*2]=g>>>8,u[r*2+1]=g%256}return u},decompressFromUint8Array:function(t){if(t==null)return s.decompress(t);for(var o=new Array(t.length/2),u=0,r=o.length;u<r;u++)o[u]=t[u*2]*256+t[u*2+1];var c=[];return o.forEach(function(g){c.push(f(g))}),s.decompress(c.join(""))},compressToEncodedURIComponent:function(t){return t==null?"":s._compress(t,6,function(o){return C.charAt(o)})},decompressFromEncodedURIComponent:function(t){return t==null?"":t==""?null:(t=t.replace(/ /g,"+"),s._decompress(t.length,32,function(o){return a(C,t.charAt(o))}))},compress:function(t){return s._compress(t,16,function(o){return f(o)})},_compress:function(t,o,u){if(t==null)return"";var r,c,g={},w={},v="",x="",h="",y=2,R=3,p=2,m=[],n=0,i=0,_;for(_=0;_<t.length;_+=1)if(v=t.charAt(_),Object.prototype.hasOwnProperty.call(g,v)||(g[v]=R++,w[v]=!0),x=h+v,Object.prototype.hasOwnProperty.call(g,x))h=x;else{if(Object.prototype.hasOwnProperty.call(w,h)){if(h.charCodeAt(0)<256){for(r=0;r<p;r++)n=n<<1,i==o-1?(i=0,m.push(u(n)),n=0):i++;for(c=h.charCodeAt(0),r=0;r<8;r++)n=n<<1|c&1,i==o-1?(i=0,m.push(u(n)),n=0):i++,c=c>>1}else{for(c=1,r=0;r<p;r++)n=n<<1|c,i==o-1?(i=0,m.push(u(n)),n=0):i++,c=0;for(c=h.charCodeAt(0),r=0;r<16;r++)n=n<<1|c&1,i==o-1?(i=0,m.push(u(n)),n=0):i++,c=c>>1}y--,y==0&&(y=Math.pow(2,p),p++),delete w[h]}else for(c=g[h],r=0;r<p;r++)n=n<<1|c&1,i==o-1?(i=0,m.push(u(n)),n=0):i++,c=c>>1;y--,y==0&&(y=Math.pow(2,p),p++),g[x]=R++,h=String(v)}if(h!==""){if(Object.prototype.hasOwnProperty.call(w,h)){if(h.charCodeAt(0)<256){for(r=0;r<p;r++)n=n<<1,i==o-1?(i=0,m.push(u(n)),n=0):i++;for(c=h.charCodeAt(0),r=0;r<8;r++)n=n<<1|c&1,i==o-1?(i=0,m.push(u(n)),n=0):i++,c=c>>1}else{for(c=1,r=0;r<p;r++)n=n<<1|c,i==o-1?(i=0,m.push(u(n)),n=0):i++,c=0;for(c=h.charCodeAt(0),r=0;r<16;r++)n=n<<1|c&1,i==o-1?(i=0,m.push(u(n)),n=0):i++,c=c>>1}y--,y==0&&(y=Math.pow(2,p),p++),delete w[h]}else for(c=g[h],r=0;r<p;r++)n=n<<1|c&1,i==o-1?(i=0,m.push(u(n)),n=0):i++,c=c>>1;y--,y==0&&(y=Math.pow(2,p),p++)}for(c=2,r=0;r<p;r++)n=n<<1|c&1,i==o-1?(i=0,m.push(u(n)),n=0):i++,c=c>>1;for(;;)if(n=n<<1,i==o-1){m.push(u(n));break}else i++;return m.join("")},decompress:function(t){return t==null?"":t==""?null:s._decompress(t.length,32768,function(o){return t.charCodeAt(o)})},_decompress:function(t,o,u){var r=[],c,g=4,w=4,v=3,x="",h=[],y,R,p,m,n,i,_,d={val:u(0),position:o,index:1};for(y=0;y<3;y+=1)r[y]=y;for(p=0,n=Math.pow(2,2),i=1;i!=n;)m=d.val&d.position,d.position>>=1,d.position==0&&(d.position=o,d.val=u(d.index++)),p|=(m>0?1:0)*i,i<<=1;switch(c=p){case 0:for(p=0,n=Math.pow(2,8),i=1;i!=n;)m=d.val&d.position,d.position>>=1,d.position==0&&(d.position=o,d.val=u(d.index++)),p|=(m>0?1:0)*i,i<<=1;_=f(p);break;case 1:for(p=0,n=Math.pow(2,16),i=1;i!=n;)m=d.val&d.position,d.position>>=1,d.position==0&&(d.position=o,d.val=u(d.index++)),p|=(m>0?1:0)*i,i<<=1;_=f(p);break;case 2:return""}for(r[3]=_,R=_,h.push(_);;){if(d.index>t)return"";for(p=0,n=Math.pow(2,v),i=1;i!=n;)m=d.val&d.position,d.position>>=1,d.position==0&&(d.position=o,d.val=u(d.index++)),p|=(m>0?1:0)*i,i<<=1;switch(_=p){case 0:for(p=0,n=Math.pow(2,8),i=1;i!=n;)m=d.val&d.position,d.position>>=1,d.position==0&&(d.position=o,d.val=u(d.index++)),p|=(m>0?1:0)*i,i<<=1;r[w++]=f(p),_=w-1,g--;break;case 1:for(p=0,n=Math.pow(2,16),i=1;i!=n;)m=d.val&d.position,d.position>>=1,d.position==0&&(d.position=o,d.val=u(d.index++)),p|=(m>0?1:0)*i,i<<=1;r[w++]=f(p),_=w-1,g--;break;case 2:return h.join("")}if(g==0&&(g=Math.pow(2,v),v++),r[_])x=r[_];else if(_===w)x=R+R.charAt(0);else return null;h.push(x),r[w++]=R+x.charAt(0),g--,R=x,g==0&&(g=Math.pow(2,v),v++)}}};return s}();typeof define=="function"&&define.amd?define(function(){return z}):typeof W<"u"&&W!=null?W.exports=z:typeof angular<"u"&&angular!=null&&angular.module("LZString",[]).factory("LZString",function(){return z})});var F=ge(se());var Ce=["codeContainer"],ce=(()=>{let l=class l{set codeAnimation(e){this._codeAnimation=e,this.codeConfiguration={numberRow:e.nbMaxRow,numberColumn:64,isEditable:!0,hideTextSelection:!0}}constructor(e){this.changeDetectorReference=e,this.delayInMs=100,this.onRecordFinish=new k,this.code="",this.codeChangeFromAnimation$=new G}ngAfterViewInit(){this.saveCodeAnimation()}domHasChange(){this._codeAnimation.hasStart&&this.codeChangeFromAnimation$.next()}saveCodeAnimation(){this._codeAnimation.hasNoFrame||re.generate({animation:this._codeAnimation,width:this.codeContainer.nativeElement.clientWidth,height:this.codeContainer.nativeElement.clientHeight,dom:this.codeContainer.nativeElement,scaleFactor:2,frameLoaded:this.codeChangeFromAnimation$.asObservable(),frameOptions:{delayInMs:this.delayInMs},loadFrame:e=>{if(this.isAlreadyLoad(e)){this.codeChangeFromAnimation$.next();return}this.code=e.code,this.changeDetectorReference.detectChanges()},onFinish:()=>{this.codeConfiguration.hideTextSelection=!1,this.changeDetectorReference.detectChanges(),this.onRecordFinish.emit(null)}})}isAlreadyLoad(e){return this.code===e.code}};l.\u0275fac=function(a){return new(a||l)(H(U))},l.\u0275cmp=E({type:l,selectors:[["app-code-recorder"]],viewQuery:function(a,s){if(a&1&&te(Ce,5,J),a&2){let t;ee(t=ne())&&(s.codeContainer=t.first)}},inputs:{title:"title",delayInMs:"delayInMs",theme:"theme",codeAnimation:"codeAnimation"},outputs:{onRecordFinish:"onRecordFinish"},standalone:!0,features:[j],decls:5,vars:4,consts:[[1,"stack-child","code-editor"],[3,"title","code","theme","windowConfiguration","domHasChange"],["codeContainer",""],[1,"spinner"]],template:function(a,s){a&1&&(A(0,"div",0)(1,"app-window",1,2),S("domHasChange",function(){return s.domHasChange()}),M(),A(3,"p",3),B(4," Render frames "),M()()),a&2&&(K(),I("title",s.title)("code",s.code)("theme",s.theme)("windowConfiguration",s.codeConfiguration))},dependencies:[b,Q],styles:[".spinner[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;color:var(--text-background);background-color:var(--background);width:100%;z-index:1000}"],changeDetection:0});let f=l;return f})();function ye(f,l){if(f&1){let C=Z();A(0,"app-window",2),S("titleChange",function(a){D(C);let s=T();return O(s.title=a)})("codeHasChange",function(a){D(C);let s=T();return O(s.updateCode(a.value))})("titleChange",function(a){D(C);let s=T();return O(s.updateTitle(a))}),M()}if(f&2){let C=T();I("code",C.code)("title",C.title)("theme",C.theme)("windowConfiguration",C.codeConfiguration)}}function _e(f,l){if(f&1){let C=Z();A(0,"app-code-recorder",3),S("onRecordFinish",function(){D(C);let a=T();return O(a.finishRecord())}),M()}if(f&2){let C=T();I("delayInMs",C.delayInMs)("title",C.title)("theme",C.theme)("codeAnimation",C.codeAnimation)}}var de=(()=>{let l=class l{constructor(){this.codeHasChange=new k,this.titleHasChange=new k,this.title="Snippet title",this.code="",this.isRecording=!1,this.codeConfiguration={numberRow:1,numberColumn:64,isEditable:!0,hideTextSelection:!1}}set initialCode(e){this.title=e.title,this.code=e.code}updateCode(e){this.code=e,this.codeHasChange.emit(e)}updateTitle(e){this.titleHasChange.emit(e)}startRecord(){this.codeAnimation=ae.fromCode(this.code),this.isRecording=!0}finishRecord(){this.isRecording=!1}};l.\u0275fac=function(a){return new(a||l)},l.\u0275cmp=E({type:l,selectors:[["app-auto-code-editor"]],inputs:{delayInMs:"delayInMs",theme:"theme",initialCode:"initialCode"},outputs:{codeHasChange:"codeHasChange",titleHasChange:"titleHasChange"},standalone:!0,features:[j],decls:4,vars:1,consts:[[3,"code","title","theme","windowConfiguration"],[3,"click"],[3,"code","title","theme","windowConfiguration","titleChange","codeHasChange"],[3,"delayInMs","title","theme","codeAnimation","onRecordFinish"]],template:function(a,s){a&1&&(Y(0,ye,1,4,"app-window",0)(1,_e,1,4),A(2,"button",1),S("click",function(){return s.startRecord()}),B(3,"Animate my snippet !"),M()),a&2&&N(0,s.isRecording?1:0)},dependencies:[b,Q,ce],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:var(--space-3)}"],changeDetection:0});let f=l;return f})();var le=[{title:"Hello World",frameList:["","<p> </p>","<p> H </p>","<p> He </p>","<p> Hel </p>","<p> Hell </p>","<p> Hello </p>","<p> Hello  </p>","<p> Hello W </p>","<p> Hello Wo </p>","<p> Hello Wor </p>","<p> Hello Worl </p>","<p> Hello World </p>"]}];var ue=[{title:"Hello World",frameList:["","function","function d","function di","function dis","function disp","function displ","function display","function display()","function display() {}",`function display() {

}`,`function display() {
	c
}`,`function display() {
	co
}`,`function display() {
	con
}`,`function display() {
	cons
}`,`function display() {
	conso
}`,`function display() {
	consol
}`,`function display() {
	console
}`,`function display() {
	console.
}`,`function display() {
	console.
}`,`function display() {
	console.lo
}`,`function display() {
	console.log
}`,`function display() {
	console.log
}`,`function display() {
	console.log(); 
}`,`function display() {
	console.log('hello world'); 
}`]}];var pe=["html","javascript"];var xe={html:le,javascript:ue},fe=(()=>{let l=class l{getRandomExample(e){let a=this.getRandomExampleAnimation(e);return{title:a.title,code:a.frameList.at(-1)}}getRandomExampleAnimation(e){return e==="auto"&&(e=this.randomIn(pe)),this.randomIn(xe[e])}randomIn(e){let a=Math.floor(Math.random()*e.length);return e.at(a)}};l.\u0275fac=function(a){return new(a||l)},l.\u0275prov=L({token:l,factory:l.\u0275fac,providedIn:"root"});let f=l;return f})();var me=(()=>{let l=class l{get currentQueries(){let e=this.location.path(),a=e.indexOf("?");return a<0?{}:e.substring(a+1).split("&").reduce((o,u)=>{let[r,c]=u.split("=");return $(V({},o),{[r]:c})},{})}get currentUrl(){let e=this.location.path(),a=e.indexOf("?");return e.substring(1,a>0?a:e.length)}constructor(e){this.location=e}updateQuery(e,a){let s=$(V({},this.currentQueries),{[e]:a});this.location.replaceState(this.currentUrl,this.queriesToString(s))}queriesToString(e){return Object.entries(e).map(([a,s])=>`${a}=${s}`).join("&")}};l.\u0275fac=function(a){return new(a||l)(P(ie))},l.\u0275prov=L({token:l,factory:l.\u0275fac,providedIn:"root"});let f=l;return f})();var at=(()=>{let l=class l{set menuForm(e){this._menuForm=e,e?.valueChanges.subscribe(()=>this.changeDetectorRef.detectChanges())}get theme(){return{background:this.getMenuValue("hasBackground")?"var(--gradient)":"transparent",padding:this.paddings[this.getMenuValue("padding")],borderRadius:this.borderRadius[this.getMenuValue("roundCorner")],codeSyntaxThemeName:"androidstudio",titleColor:"white",caretColor:"white"}}get delayInMs(){return this.getMenuValue("intervalBetweenFrameInMs")}constructor(e,a,s,t){this.placeholderCodeService=a,this.changeDetectorRef=s,this.urlService=t,this.paddings={no:"0",small:"var(--padding-4)",medium:"var(--padding-5)",large:"calc(var(--padding-5) * 2)"},this.borderRadius={no:"0",medium:"var(--border-radius-3)",large:"var(--border-radius-4)"},e.setTheme("//cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/styles/androidstudio.min.css")}ngOnInit(){if(!this.title||!this.code){this.initialCode=this.placeholderCodeService.getRandomExample("auto");return}this.initialCode={title:this.title,code:this.code}}updateCodeInUrl(e){this.urlService.updateQuery("code",(0,F.compressToBase64)(e))}updateTitleInUrl(e){this.urlService.updateQuery("title",(0,F.compressToBase64)(e))}getMenuValue(e){return this._menuForm?.get(e)?.value}};l.\u0275fac=function(a){return new(a||l)(H(oe),H(fe),H(U),H(me))},l.\u0275cmp=E({type:l,selectors:[["app-auto-code-to-gif-page"]],inputs:{title:["title","title",e=>(0,F.decompressFromBase64)(e)],code:["code","code",e=>(0,F.decompressFromBase64)(e)],menuForm:"menuForm"},standalone:!0,features:[X,j],decls:1,vars:3,consts:[[3,"delayInMs","theme","initialCode","codeHasChange","titleHasChange"]],template:function(a,s){a&1&&(A(0,"app-auto-code-editor",0),S("codeHasChange",function(o){return s.updateCodeInUrl(o)})("titleHasChange",function(o){return s.updateTitleInUrl(o)}),M()),a&2&&I("delayInMs",s.delayInMs)("theme",s.theme)("initialCode",s.initialCode)},dependencies:[b,de],styles:["[_nghost-%COMP%]{display:flex;align-items:center;justify-content:center}app-menu[_ngcontent-%COMP%]{position:absolute;top:var(--space-5);right:var(--space-5)}app-auto-code-editor[_ngcontent-%COMP%]{padding:calc(var(--space-5) * 2) 0}"],changeDetection:0});let f=l;return f})();export{at as AutoCodeToGifPageComponent};
